{"version":3,"sources":["text-logo.png","logo.svg","api-config.js","EventExpansionPanel.js","SubmitDialog.js","NewPayment.js","PaymentRow.js","PaymentsIndex.js","SideNavBar.js","CancelPaymentDialog.js","WithdrawDialog.js","PaymentDetails.js","App.js","MobileNavBar.js","DropDownNav.js","MobileSideDrawer.js","serviceWorker.js","HomeContent.js","FAQContent.js","Homepage.js","Routing.js","index.js"],"names":["module","exports","__webpack_require__","p","backendHost","theme","createMuiTheme","EventExpansionPanel","handleClearEvent","ts","_this","props","clearEvent","_this2","this","classes","react_default","a","createElement","Object","keys","events","map","key","index","event","name","loading","statusText","msgLines","className","root","ExpansionPanel","style","overflowX","ExpansionPanelSummary","expandIcon","ExpandMore_default","heading","Typography","LinearProgress","width","ExpansionPanelDetails","details","elem","Divider","ExpansionPanelActions","Button","size","color","onClick","renderEvent","React","Component","withStyles","margin","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","palette","text","secondary","icon","verticalAlign","height","alignItems","helper","borderLeft","concat","divider","padding","spacing","link","primary","main","textDecoration","&:hover","withTheme","hostname","window","location","console","log","process","REACT_APP_BACKEND_HOST","API_ROOT","BigNumber","require","toBN","num","SubmitDialog","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","copied","paymentId","prevCode","undefined","prevRecipient","handleSubmit","recipient","resolvedAddr","newPayment","codeHash","web3","utils","soliditySha3","code","createPayment","amount","parseInt","obj","wrap","seconds","minutes","hours","days","JSONToMillis","holdTime","sendEther","denom","token","toggleSubmit","history","push","ethAmountLabel","tokenAmountLabel","fromWei","toWei","toString","error","obscuredPassphrase","arr","split","i","length","repeat","join","handyInfo","passphrase","shortId","recipientAddr","etherclearContractInstance","badAddr","getPaymentId","then","result","substring","setState","catch","jsonStr","sendAmount","toFixed","e","tokenInfo","App","ropstenTokenMap","times","pow","decimals","paymentFeePercent","paymentFee","calculatePaymentFee","displayedPaymentFee","div","displayPaymentFee","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","overflow","DialogContentText","display","flexDirection","justifyContent","center","lib","JSON","stringify","onCopy","IconButton","Tooltip","title","FileCopy_default","baseFeeEth","DialogActions","autoFocus","withRouter","niceware","infuraProvider","Web3","providers","HttpProvider","ens","amt","DOMAIN_REGEX","NewPayment","componentDidMount","updateBalance","generatePassphrase","submitOpen","showPassword","displayBalance","realBalance","balanceLoaded","balanceEnough","resolvedNames","handleClickShowPassword","refreshCode","toggleSubmitDialog","bool","handleSelectChange","defineProperty","target","value","resolveENSNameToAddr","_ref","asyncToGenerator","regenerator_default","mark","_callee","val","addr","copy","_context","prev","next","resolver","sent","t0","stop","_x","apply","arguments","isValidDomainName","test","isBadTimeInput","input","handleSwitch","_ref2","_callee2","_context2","_x2","isBalanceEnough","balance","isValidAmount","rawAmount","toWeiBN","toTokenBN","minus","isNegative","updateIsBalanceEnough","countDecimals","numStr","Math","floor","parseFloat","valueOf","includes","denomToPrecision","numDecimals","updateAmount","updateNewPayment","useEth","updateTokenBalance","_this$props","breakpoints","currentBreakpoint","isAddress","validAmount","badTimeInput","disableSubmit","handleFocus","select","formLabel","marginBottom","textAlign","desktop","fontWeight","TextField","textField","onChange","marginLeft","disabled","label","helperText","CheckCircle_default","autoComplete","FormControlLabel","control","Switch","checked","Grid","container","direction","marginRight","type","marginTop","FormControl","formControl","InputLabel","htmlFor","Select","Input","selectedDenoms","MenuItem","selected","whitelistedTokens","FormHelperText","badTime","react","variant","updateNewPaymentTime","onFocus","onInput","max","slice","InputProps","endAdornment","InputAdornment","position","aria-label","VisibilityOff_default","Visibility_default","button","Refresh_default","justify","react_responsive_default","query","matches","buttonText","cancelButton","toggleNew","src_SubmitDialog","wei","Kwei","babbage","Mwei","lovelace","Gwei","shannon","microether","szabo","milliether","finney","ether","objectSpread","mixins","gutters","paddingTop","paddingBottom","minWidth","selectEmpty","withBreakpoints","tokenAddrToSymbol","0x583cbBb8a8443B38aBcC0c956beCe47340ea1367","0x0000000000000000000000000000000000000000","PaymentStatus","paymentStatusText","payment","openDate","paymentOpenTime","Date","symbol","TableRow","hover","TableCell","toLocaleString","year","month","day","minute","hour","matched","PaymentsIndex","latestTsFirst","b","refreshPayments","getPaymentEvents","filterPayments","sortedPayments","openPayments","closedPayments","allPayments","sort","onFilterChange","item","paymentType","bind","assertThisInitialized","_this$state","validDaysInput","isNaN","daysInput","headerWidth","screen","headerSize","dynamicFont","updateDaysInput","Checkbox","paddingLeft","Table","TableHead","TableBody","src_PaymentRow","useStyles","makeStyles","paper","background","badgeStyles","zIndex","badgeSpacing","appEvents","useTheme","eventCount","Drawer","anchor","react_router_dom","to","src","alt","List","navItem","ListItem","Badge","badgeContent","badge","pathname","CancelPaymentDialog","cancelPayment","toggleCancel","shortStr","str","len","_key","WithdrawDialog","passphraseInput","updatePassphraseInput","retrieveFunds","feeless","retrieveFundsFeeless","sender","toggleWithdraw","isPassphraseCorrect","passphraseCorrect","TextField_default","addrEquals","str1","str2","toLowerCase","err","PaymentDetails","openCancel","openWithdraw","recipientName","senderName","fetchENSNames","txn","getCachedAddrForENSName","PaymentStatusToName","0","1","2","account","allAccounts","closeDate","paymentCloseTime","shortAddr","string","fromOrTo","status","currTs","now","formatTimeJSON","timeLeft","statusColor","lightGreen","red","flexLayout","dateOptions","date","IconButton_default","ArrowBack_default","alignContent","millisToJSON","href","getEtherScanURL","openHash","OpenInNew_default","uniqueKey","closeHash","Fragment","src_WithdrawDialog","renderRecipientActions","buttonLabel","src_CancelPaymentDialog","renderSenderActions","ms","h","m","s","MobileNavBar","handleChange","tabClick","url","Paper","square","Tabs","backgroundColor","indicatorColor","textColor","Tab","StyledMenu","border","Menu","assign","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","&:focus","& .MuiListItemIcon-root, & .MuiListItemText-primary","common","white","_React$useState","useState","_React$useState2","slicedToArray","anchorEl","setAnchorEl","linkStyles","aria-owns","aria-haspopup","currentTarget","List_default","Boolean","ListItemText","MobileSideDrawer","side","ROPSTEN","contractDisplayName","displayName","noAddr","etherclearContractDefinition","top","left","bottom","right","toggleDrawer","Fab","role","onKeyDown","networks","address","mobile","mobileLandscape","tablet","tabletLandscape","desktopLarge","desktopWide","contract","GAS","defaultDisplayDays","sleep","milliseconds","Promise","resolve","setTimeout","infuraWeb3","light","dark","contrastText","useNextVariants","openNew","duration","hash","network","displayHashWithLinkMsg","msg","onNewPaymentClick","cachedAddr","addrToName","resolveAddrToENSName","abrupt","reverse","t1","t2","t3","setMainAddrENSName","_ref3","_callee3","_context3","mainAddrENSName","_x3","setContractAddrENSName","_ref4","_callee4","_context4","contractAddrENSName","_x4","checkRetrieveSignature","sig","signature","sigR","sigS","sigV","txID","from","accounts","gas","toggleMenuOpen","menuName","menuOpen","updateEvents","eventsCopy","updateEvent","line","updateEventForSuccess","updateEventForError","createTokenPayment","baseFee","sendValue","plus","on","_ref5","_callee5","erc20","_context5","eth","getBalance","IERC20ContractDefinition","ethereum","setProvider","currentProvider","at","balanceOf","_x5","_ref6","_callee6","amountWithFee","_context6","approve","approval","_x6","_x7","_x8","_x9","_x10","txnId","retrieveFundsAsRecipient","_ref7","_callee8","sigUtil","ethUtil","msgParams","params","_context8","toChecksumAddress","types","EIP712Domain","RetrieveFundsRequest","primaryType","domain","version","chainId","verifyingContract","salt","message","dir","sendAsync","method","recovered","recoverTypedSignature","data","parse","msgLine","errMsg","fetch","mode","headers","Content-Type","Access-Control-Allow-Origin","body","response","json","_ref8","_callee7","receipt","_context7","res","getTransactionReceipt","_x14","ex","_x11","_x12","_x13","precise","x","Number","toPrecision","getBlocksPerDay","_callee9","currBlock","fromBlock","diffSecs","numDays","_context9","getBlock","number","timestamp","_callee10","_context10","getRecentPaymentEvents","_ref11","_callee12","paymentMap","perDay","numBlocks","_context12","getCurrTimestamp","getPastEvents","filter","toBlock","_ref12","_callee11","entry","_copy","_payment","_context11","returnValues","openTime","transactionHash","closeTime","toNumber","_x16","_x15","getPayments","_callee13","_context13","loadWeb3","_callee14","providerAvailable","_context14","registerRopstenContractInstance","netId","isMetaMask","getCurrentProvider","enable","mmState","logNetworkModern","fetchWeb3Accounts","metamaskInstalled","getAccounts","setWeb3AccountsIfMetamaskUnlocked","getContractInfo","prefix","addAccounts","Type","Address","metamaskUnlocked","openTx","withdraw","cancel","closedTx","bodyWidth","innerWidth","noCredentialsMessage","gridHeight","react_breakpoints_lib_default","MuiThemeProvider_default","ThemeProvider","DropDownNav","flex","src_SideNavBar","src_MobileNavBar","fullWidth","src_MobileSideDrawer","Add_default","react_router","path","exact","render","src_EventExpansionPanel","src_NewPayment","src_PaymentsIndex","_ref15","src_PaymentDetails","contractAddr2","Etherclear","instance2","_this3","net","getNetworkType","allContracts","currTimestamp","host","isTrust","isGoWallet","isAlphaWallet","isStatus","isToshi","__CIPHER__","isCipher","constructor","indexOf","BOKKY","appBar","toolbarTitle","match","HomeContent","layout","heroContent","component","align","gutterBottom","heroButtons","react_router_hash_link_lib","dist_es6","iconStyle","Create_default","Message_default","FAQContent","createPalette","footers","description","Homepage","handleMenuIconClick","handleMenuIconClose","buttonTheme","CssBaseline","AppBar","Toolbar","Menu_default","classNames","footer","ind","xs","noWrap","@global","up","maxWidth","borderTop","MainApp","src_App_0","Home","src_Homepage","Routing","ReactGA","initialize","pageview","initializeReactGA","ReactDOM","src_Routing","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.322736ce.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.e3b143a5.svg\";","// Taken from https://daveceddia.com/multiple-environments-with-react/\nlet backendHost;\n//const apiVersion = \"v1\";\n\nconst hostname = window && window.location && window.location.hostname;\n\nconsole.log(\"Hostname is: \" + hostname);\nif (\n  hostname === \"etherclear.appspot.com\" ||\n  hostname === \"prod-dot-default-dot-etherclear.appspot.com\"\n) {\n  backendHost = \"https://prod-dot-relayer-dot-etherclear.appspot.com\";\n} else if (hostname === \"dev-dot-relayer-dot-etherclear.appspot.com\") {\n  backendHost = \"https://dev-dot-relayer-dot-etherclear.appspot.com\";\n} else {\n  /*\nelse if (/^qa/.test(hostname)) {\n  backendHost = `https://api.${hostname}`;\n}\n*/\n  backendHost = process.env.REACT_APP_BACKEND_HOST || \"http://localhost:8080\";\n}\n\n//export const API_ROOT = `${backendHost}/api/${apiVersion}`;\nexport const API_ROOT = `${backendHost}/`;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createMuiTheme } from \"@material-ui/core/styles\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelActions from \"@material-ui/core/ExpansionPanelActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\n\n// custom mui theme\nconst theme = createMuiTheme();\n\nconst styles = theme => ({\n  root: {\n    width: \"80%\",\n    margin: \"auto\"\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: \"33.33%\",\n    flexShrink: 0\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary\n  },\n  icon: {\n    verticalAlign: \"bottom\",\n    height: 20,\n    width: 20\n  },\n  details: {\n    alignItems: \"center\"\n  },\n  helper: {\n    borderLeft: `2px solid ${theme.palette.divider}`,\n    padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`\n  },\n  link: {\n    color: theme.palette.primary.main,\n    overflowX: 'hidden',\n    textDecoration: \"none\",\n    \"&:hover\": {\n      textDecoration: \"underline\"\n    }\n  }\n});\n\n//\nclass EventExpansionPanel extends React.Component {\n  handleClearEvent = ts => () => {\n    this.props.clearEvent(ts);\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    const renderEvent = (index, event) => {\n      let { ts, name, loading, statusText, msgLines } = event;\n\n      return (\n        <div key={ts} className={classes.root}>\n          <ExpansionPanel style={{ overflowX: 'hidden' }}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              <div className={classes.heading}>\n                <Typography>{name}</Typography>\n              </div>\n              <div className={classes.heading}>\n                {loading ? <LinearProgress style={{ width: \"50%\" }} /> : \"\"}\n              </div>\n              <div className={classes.heading}>{statusText}</div>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.details}>\n              <div>\n                {msgLines.map((elem, index) => {\n                  return typeof elem === \"string\" ? (\n                    <div key={index} style={{ overflowX: 'hidden' }}>\n                      <p style={{ overflowX: 'hidden' }}>{elem}</p>\n                    </div>\n                  ) : (\n                    <div key={index}>{elem}</div>\n                  );\n                })}\n              </div>\n            </ExpansionPanelDetails>\n            <Divider />\n            <ExpansionPanelActions>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                onClick={this.handleClearEvent(ts)}\n              >\n                Clear\n              </Button>\n            </ExpansionPanelActions>\n          </ExpansionPanel>\n        </div>\n      );\n    };\n\n    return (\n      <div>\n        {Object.keys(this.props.events).map((key, index) =>\n          renderEvent(index, this.props.events[key])\n        )}\n      </div>\n    );\n  }\n}\n\nEventExpansionPanel.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: theme })(EventExpansionPanel);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport {withTheme } from '@material-ui/styles';\nimport { withRouter } from \"react-router-dom\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport Divider from \"@material-ui/core/Divider\";\nimport App from \"./App\";\n\nconst BigNumber = require(\"bignumber.js\");\n\nconst toBN = num => {\n  return new BigNumber(num);\n};\n\nconst theme = createMuiTheme();\n\nclass SubmitDialog extends React.Component {\n  state = {\n    copied: false,\n    paymentId: \"None\",\n    // These are stored so that we only fetch a new paymentId\n    // when one of them changes.\n    prevCode: undefined,\n    prevRecipient: undefined\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  handleSubmit = () => {\n    let recipient =\n      this.props.resolvedAddr === undefined\n        ? this.props.newPayment.recipient\n        : this.props.resolvedAddr;\n    let codeHash = window.web3.utils.soliditySha3(this.props.code, recipient);\n    this.props.createPayment(\n      this.props.newPayment.amount,\n      recipient,\n      // TODO: not safe\n      parseInt(JSONToMillis(this.props.newPayment.holdTime) / 1000),\n      codeHash,\n      this.props.sendEther ? this.props.denom : this.props.token,\n      this.props.sendEther\n    );\n    this.props.toggleSubmit(false)();\n    // forces redirect to app events section\n    // TODO: update route when app events section route changes\n    this.props.history.push(\"/app\");\n  };\n\n  render() {\n    // TODO: just pass in the newPayment here.\n    let utils = window.web3.utils;\n    let tokenAmountLabel = this.props.token;\n\n    // TODO: defined twice\n    const formatTimeJSON = jsonStr => {\n      return (\n        \"Days: \" +\n        jsonStr[\"days\"] +\n        \", Hours: \" +\n        jsonStr[\"hours\"] +\n        \", Minutes: \" +\n        jsonStr[\"minutes\"]\n      );\n    };\n\n    // TODO: clean up, this is because of decimal values being entered in.\n    // An error will be displayed, but this dialog is still rendered.\n    let ethAmountLabel;\n    if (this.props.sendEther) {\n      try {\n        ethAmountLabel =\n          \" (\" +\n          (this.props.newPayment.amount === \"\"\n            ? \"N/A\"\n            : utils\n                .fromWei(\n                  utils.toWei(this.props.newPayment.amount, this.props.denom),\n                  \"ether\"\n                )\n                .toString()) +\n          \" ether)\";\n      } catch (error) {\n        ethAmountLabel = \"(N/A ether)\";\n      }\n    }\n\n    // Show only the last letter of each word.\n    // Assumes that the words are all at least one letter.\n    let obscuredPassphrase = (() => {\n      let arr = this.props.code.split(\" \");\n      //let last = arr[arr.length-1];\n      for (let i = 0; i < arr.length; i++) {\n        arr[i] = \"*\".repeat(arr[i].length - 1) + arr[i][arr[i].length - 1];\n      }\n      return arr.join(\" \");\n    })();\n\n    // We fetch the paymentId to present it to\n    // the sender in case they want to copy it with\n    // the passphrase.\n    let handyInfo = {\n      passphrase: this.props.code,\n      shortId: this.state.paymentId\n    };\n\n    let recipientAddr =\n      this.props.resolvedAddr === undefined\n        ? this.props.newPayment.recipient\n        : this.props.resolvedAddr;\n\n    // TODO: this is a hack since the bytes -> uint isn't reversible.\n    // May want to check for existence of ID as well here.\n    if (this.props.etherclearContractInstance === undefined) {\n      console.log(\"No Etherclear contract instance found\");\n    } else if (this.props.badAddr) {\n      console.log(\"Bad address, will not retrieve paymentId\");\n    } else {\n      let codeHash = window.web3.utils.soliditySha3(\n        this.props.code,\n        this.props.newPayment.recipient\n      );\n\n      // TODO: this causes a warning: \"Cannot update during an existing state transition\",\n      // since we do a setState() call in this block.\n      if (\n        this.state.prevCode !== this.props.code ||\n        this.state.prevRecipient !== this.props.recipient\n      ) {\n        this.props.etherclearContractInstance\n          .getPaymentId(recipientAddr, codeHash)\n          .then(result => {\n            //result = window.web3.utils.numberToHex(result);\n            console.log(\"Got paymentId for submit: \" + result);\n            if (\n              this.state.paymentId !==\n              result.toString().substring(0, 12) + \"...\"\n            ) {\n              this.setState({\n                paymentId: result.toString().substring(0, 12) + \"...\"\n              });\n            }\n          })\n          .catch(error => {\n            console.log(\"Error getting paymentId for submit: \" + error);\n          });\n\n        this.setState({\n          prevCode: this.props.code,\n          prevRecipient: this.props.recipient\n        });\n      }\n    }\n\n    // Returns whole number amounts (wei or token units).\n    const calculatePaymentFee = (sendEther, amount, denom, token) => {\n      let sendAmount;\n      if (sendEther) {\n        let num = toBN(amount);\n\n        try {\n          sendAmount = toBN(window.web3.utils.toWei(num.toFixed(), denom));\n        } catch (e) {\n          sendAmount = toBN(0);\n        }\n      } else {\n        let tokenInfo = App.ropstenTokenMap[token];\n\n        try {\n          sendAmount = toBN(amount).times(toBN(10).pow(tokenInfo.decimals));\n        } catch (e) {\n          sendAmount = toBN(0);\n        }\n      }\n\n      let paymentFeePercent = App.paymentFeePercent;\n      let paymentFee = toBN(sendAmount * paymentFeePercent);\n      // We round down to 0 if the fee is less than 1 Wei or 1 token unit.\n      if (paymentFee < 1) {\n        paymentFee = toBN(0);\n      }\n\n      return { paymentFee: toBN(parseInt(paymentFee)), sendAmount: sendAmount };\n    };\n\n    // Returns decimal token amounts (amount divided by pow(10,num_token_decimal_places))\n    const displayPaymentFee = (sendEther, paymentFee, token) => {\n      if (sendEther) {\n        return window.web3.utils.fromWei(paymentFee.toString()) + \" ETH\";\n      } else {\n        let tokenInfo = App.ropstenTokenMap[token];\n\n        return (\n          paymentFee.div(toBN(10).pow(tokenInfo.decimals)).toString() +\n          \" \" +\n          token\n        );\n      }\n    };\n\n    let result = calculatePaymentFee(\n      this.props.sendEther,\n      this.props.newPayment.amount,\n      this.props.denom,\n      this.props.token\n    );\n\n    let displayedPaymentFee = displayPaymentFee(\n      this.props.sendEther,\n      result.paymentFee,\n      this.props.token\n    );\n\n    // Use of flex for displaying divs side by side:\n    // https://stackoverflow.com/questions/10006175/display-two-divs-side-by-side\n    return (\n      <div>\n        <Dialog\n          open={this.props.open}\n          onClose={this.props.toggleSubmit(false)}\n          aria-labelledby=\"submit-dialog-title\"\n          aria-describedby=\"submit-dialog-description\"\n        >\n          <DialogTitle id=\"submit-dialog-title\">{\"New Payment\"}</DialogTitle>\n          <Divider />\n          <br />\n          <DialogContent>\n            <strong>Recipient:</strong>{\" \"}\n            {\n              <div style={{ height: \"50px\", overflow: \"scroll\" }}>\n                {this.props.newPayment.recipient}\n              </div>\n            }\n            <DialogContentText id=\"submit-dialog-description\">\n              <strong>Hold Time:</strong>{\" \"}\n              {formatTimeJSON(this.props.newPayment.holdTime)}\n              <br />\n              <strong>Send amount:</strong> {this.props.newPayment.amount}{\" \"}\n              {this.props.sendEther ? this.props.denom : \"\"}\n              {this.props.sendEther ? ethAmountLabel : tokenAmountLabel}\n              <br />\n              <br />\n            </DialogContentText>\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                justifyContent: \"spaceAround\"\n              }}\n            >\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <strong>Passphrase:</strong> {obscuredPassphrase}\n                <br />\n                <strong>Short ID:</strong> {this.state.paymentId}\n                <br />\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  center: \"vertical\"\n                }}\n              >\n                <CopyToClipboard\n                  text={JSON.stringify(handyInfo)}\n                  onCopy={() => this.setState({ copied: true })}\n                >\n                  <IconButton>\n                    <Tooltip title={\"Copy both to clipboard\"}>\n                      <FileCopyIcon />\n                    </Tooltip>\n                  </IconButton>\n                </CopyToClipboard>{\" \"}\n                {this.state.copied ? (\n                  <span style={{ color: \"red\" }}>Copied.</span>\n                ) : null}\n              </div>\n            </div>\n            <DialogContentText>\n              <br />\n              <strong>Base Fee:</strong> {App.baseFeeEth + \" ETH\"}\n              <br />\n              <strong>Payment Fee:</strong> {displayedPaymentFee}\n              <br />\n              <br />\n              <strong>This passphrase is not saved.</strong> You must\n              communicate this code to the recipient over a secure channel for\n              them to be able to retrieve any funds.\n              <br />\n              <br />\n              <strong>The payment is not yet confirmed.</strong> Clicking\n              \"Confirm\" will open a notification or popup from the wallet\n              provider. Follow the instructions there to finish signing and\n              sending a payment.\n              <br />\n              <br />\n              <strong>\n                Token payments currently require two transactions.\n              </strong>{\" \"}\n              Wait for the first \"Approve\" call to succeed. When that happens, a\n              request for the next transaction that transfers funds should\n              appear, which must be completed to actually transfer tokens.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleSubmit} color=\"primary\">\n              Confirm\n            </Button>\n            <Button\n              onClick={this.props.toggleSubmit(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              Cancel\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\n/**\n * @return {number}\n */\nfunction JSONToMillis(obj) {\n  let wrap = obj => {\n    return obj === undefined ? 0 : obj;\n  };\n  let ms =\n    1000 * parseInt(wrap(obj.seconds)) +\n    60 * 1000 * parseInt(wrap(obj.minutes)) +\n    60 * 60 * 1000 * parseInt(wrap(obj.hours)) +\n    24 * 60 * 60 * 1000 * parseInt(wrap(obj.days));\n  return ms;\n}\n\nexport default withTheme(withRouter(SubmitDialog));\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, createMuiTheme } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SubmitDialog from \"./SubmitDialog\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport MediaQuery from \"react-responsive\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport { withBreakpoints } from 'react-breakpoints';\n\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\n\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport App from \"./App\";\nimport Web3 from \"web3\";\n\n// custom mui theme\nconst theme = createMuiTheme();\n\nconst BigNumber = require(\"bignumber.js\");\nconst niceware = require(\"niceware\");\n\nconst styles = theme => ({\n  root: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  button: {\n    margin: theme.spacing(1),\n    color: theme.palette.primary.main\n  },\n  cancelButton: {\n    margin: theme.spacing(1),\n  },\n  buttonText: {\n    color: 'white',\n  },\n  input: {\n    display: \"none\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(1)\n  },\n});\n\nconst infuraProvider = new Web3.providers.HttpProvider(\n  \"https://ropsten.infura.io\"\n);\n\n// TODO: clean this up\nvar ENS = require(\"ethereum-ens\");\n\nvar ens = new ENS(infuraProvider);\n\nconst toBN = amt => {\n  return new BigNumber(amt);\n};\n\n// Stolen from https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch08s15.html\nconst DOMAIN_REGEX = /^([a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}$/;\n\n// TODO: refactor into createPayment() and createTokenPayment().\nfunction toWeiBN(amount, denom) {\n  let sendAmount = toBN(\n    // Assumes amount is valid.\n    window.web3.utils.toWei(toBN(amount).toFixed(), denom)\n  );\n\n  return sendAmount;\n}\n// TODO: refactor into createPayment() and createTokenPayment().\nfunction toTokenBN(amount, denom) {\n  let tokenInfo = App.ropstenTokenMap[denom];\n  console.log(\"Amount is: \" + amount);\n  // Assumes amount is valid.\n  return toBN(amount).times(toBN(\"10\").pow(tokenInfo.decimals));\n}\n\nclass NewPayment extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount = () => {\n    this.updateBalance(true);\n  };\n\n  state = {\n    code: niceware.generatePassphrase(6),\n    submitOpen: false,\n    denom: \"wei\",\n    copied: false,\n    showPassword: false,\n    sendEther: true,\n    //token: 'DAI',\n    token: \"BOKKY\",\n    displayBalance: \"0\",\n    realBalance: 0,\n    balanceLoaded: false,\n    balanceEnough: false,\n    resolvedAddr: undefined,\n    resolvedNames: {}\n  };\n\n  handleClickShowPassword = () => {\n    this.setState(state => ({ showPassword: !state.showPassword }));\n  };\n\n  refreshCode = event => {\n    this.setState({ code: niceware.generatePassphrase(6), copied: false });\n  };\n\n  toggleSubmitDialog = bool => event => {\n    this.setState({ submitOpen: bool });\n  };\n\n  handleSelectChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n    // Update balance if we switch to a new token/ denom\n    if (event.target.name === \"token\") {\n      this.updateBalance(false);\n    } else if (event.target.name === \"denom\") {\n      this.updateBalance(true);\n    }\n  };\n\n  // Taken from https://docs.ens.domains/dapp-developer-guide/resolving-names\n  resolveENSNameToAddr = async name => {\n    try {\n      let val = this.state.resolvedNames[name];\n      if (val === undefined) {\n        let addr = await ens.resolver(name).addr();\n        let copy = this.state.resolvedNames;\n        copy[name] = addr;\n        this.setState({ resolvedNames: copy, resolvedAddr: addr });\n        console.log(\"got addr: \" + addr);\n      } else {\n        if (this.state.resolvedAddr !== val) {\n          this.setState({ resolvedAddr: val });\n        }\n      }\n    } catch (error) {\n      //console.log(error);\n      if (undefined !== this.state.resolvedAddr) {\n        this.setState({ resolvedAddr: undefined });\n      }\n    }\n  };\n\n  isValidDomainName = name => {\n    return DOMAIN_REGEX.test(name);\n  };\n\n  //  https://web3js.readthedocs.io/en/1.0/web3-utils.html#towei\n  static denomToPrecision = {\n    wei: 1,\n    Kwei: 3,\n    babbage: 3,\n    Mwei: 6,\n    lovelace: 6,\n    Gwei: 9,\n    shannon: 9,\n    microether: 12,\n    szabo: 12,\n    milliether: 15,\n    finney: 15,\n    ether: 18\n  };\n\n  static whitelistedTokens = [\"BOKKY\"];\n  /*\n        [\n        'DAI',\n        'BAT',\n        'OMG',\n        'WTC',\n        'BNB',\n        'MKR',\n        'ZRX',\n        'ENJ',\n        'LINK',\n         'PPT',\n    ];\n    */\n\n  static selectedDenoms = [\n    \"wei\",\n    \"Kwei\",\n    \"Mwei\",\n    \"Gwei\",\n    \"microether\",\n    \"milliether\",\n    \"ether\"\n  ];\n\n  isBadTimeInput = input => {\n    return (\n      this.props.newPayment.holdTime[input].toString() !==\n      parseInt(this.props.newPayment.holdTime[input]).toString()\n    );\n  };\n\n  handleSwitch = async event => {\n    this.updateBalance(!this.state.sendEther);\n    this.setState({ sendEther: !this.state.sendEther });\n  };\n\n  isBalanceEnough = (balance, amount) => {\n    if (!this.isValidAmount(amount)) {\n      return false;\n    } else {\n      let denom = this.state.sendEther ? this.state.denom : this.state.token;\n      let rawAmount = this.state.sendEther\n        ? toWeiBN(amount, denom)\n        : toTokenBN(amount, denom);\n      return !toBN(balance)\n        .minus(rawAmount)\n        .isNegative();\n    }\n  };\n\n  updateIsBalanceEnough = (balance, amount) => {\n    let isBalanceEnough = this.isBalanceEnough(balance, amount);\n    this.setState({ balanceEnough: isBalanceEnough });\n  };\n\n  async updateBalance(useEth) {\n    this.setState({ balanceLoaded: false });\n    let balance;\n\n    // TODO: use a function to display the realBalance instead of\n    // using two vars.\n    let balanceEnough;\n    let realBalance;\n\n    if (useEth) {\n      realBalance = await this.props.updateTokenBalance(\"ETH\");\n      balanceEnough = this.isBalanceEnough(\n        realBalance,\n        this.props.newPayment.amount\n      );\n      balance = toBN(realBalance)\n        .div(toBN(10).pow(toBN(18)))\n        .toFixed();\n    } else {\n      realBalance = await this.props.updateTokenBalance(this.state.token);\n      balanceEnough = this.isBalanceEnough(\n        realBalance,\n        this.props.newPayment.amount\n      );\n      balance = toBN(realBalance)\n        .div(toBN(10).pow(toBN(App.ropstenTokenMap[this.state.token].decimals)))\n        .toFixed();\n    }\n    console.log(\"balance: \" + balance);\n    this.setState({\n      displayBalance: balance,\n      realBalance: realBalance,\n      balanceLoaded: true,\n      balanceEnough: balanceEnough\n    });\n  }\n\n  countDecimals = numStr => {\n    if (\n      Math.floor(parseFloat(numStr).valueOf()) === parseFloat(numStr).valueOf()\n    )\n      return 0;\n    return numStr.split(\".\")[1].length || 0;\n  };\n\n  isValidAmount = amount => {\n    if (amount === undefined || amount === \"\") {\n      return false;\n    }\n    try {\n      if (this.state.sendEther) {\n        if (this.state.denom === \"wei\") {\n          if (amount.includes(\".\")) {\n            return false;\n          }\n        } else if (\n          this.countDecimals(amount) >\n          parseInt(NewPayment.denomToPrecision[this.state.denom])\n        ) {\n          return false;\n        }\n\n        return true;\n      } else {\n        // Handle token precision (non-ether)\n        let numDecimals = parseInt(\n          App.ropstenTokenMap[this.state.token].decimals\n        );\n        return this.countDecimals(amount) <= numDecimals;\n      }\n    } catch (error) {\n      return false;\n    }\n  };\n\n  updateAmount = event => {\n    this.props.updateNewPayment(\"amount\")(event);\n    this.updateIsBalanceEnough(this.state.realBalance, event.target.value);\n  };\n\n  render() {\n    const { classes, breakpoints, currentBreakpoint } = this.props;\n    let passphrase = this.state.code;\n\n    const badAddr =\n      this.state.resolvedAddr === undefined &&\n      (this.props.newPayment.recipient === undefined ||\n        this.props.newPayment.recipient === \"\" ||\n        !window.web3.utils.isAddress(this.props.newPayment.recipient));\n\n    const validAmount = this.isValidAmount(this.props.newPayment.amount);\n\n    const badTimeInput = (() => {\n      for (let key in this.props.newPayment.holdTime) {\n        if (this.isBadTimeInput(key)) {\n          return true;\n        }\n      }\n      return false;\n    })();\n\n    const disableSubmit = badAddr || !validAmount || badTimeInput;\n    const handleFocus = event => event.target.select();\n    const formLabel = {\n      fontSize: \"1.5em\",\n      textDecoration: \"underline\",\n      marginBottom: \"2px\",\n      textAlign: \"left\"\n    };\n\n    // TODO: find a better check than isValidDomainName, it's too general\n    if (this.isValidDomainName(this.props.newPayment.recipient)) {\n      this.resolveENSNameToAddr(this.props.newPayment.recipient);\n    }\n\n    return (\n      <div style={{\n        width: (breakpoints[currentBreakpoint] < breakpoints.desktop) ? '90%' : '70%',\n        margin: \"auto\"\n      }}>\n          <div style={{ width: \"100%\", margin: \"auto\" }}>\n            <h3\n              style={{\n                textAlign: \"center\",\n                fontSize: \"1.5em\",\n                fontWeight: \"500\",\n                marginBottom: \"0px\"\n              }}\n            >\n              New Payment\n            </h3>\n            <Divider style={{ width: '30%', margin: 'auto' }} />\n          </div>\n          <div>\n            <p style={formLabel}>Recipient:</p>\n            <TextField\n              id=\"outlined-multiline-static-recipient\"\n              className={classes.textField}\n              onChange={this.props.updateNewPayment(\"recipient\")}\n              style={{ width: \"80%\", marginLeft: \"32px\" }}\n              value={this.props.newPayment.recipient}\n              disabled={false}\n              margin=\"normal\"\n              label={\"Ethereum address\"}\n              helperText={badAddr ? \"Address is not valid\" : \"\"}\n              error={badAddr}\n            />\n            {this.state.resolvedAddr === undefined ? (\n              \"\"\n            ) : (\n              <Tooltip title={this.state.resolvedAddr}>\n                <CheckCircleIcon style={{ color: \"green\" }} />\n              </Tooltip>\n            )}\n          </div>\n          <div>\n            <p style={formLabel}>Amount to send:</p>\n            <form className={classes.root} autoComplete=\"off\">\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={!this.state.sendEther}\n                    onChange={this.handleSwitch}\n                    value=\"Send Tokens\"\n                  />\n                }\n                label=\"Send ERC20\"\n              />\n            </form>\n            <Grid container direction=\"row\">\n              <div style={{ width: \"60%\", marginRight: '10px' }}>\n                <TextField\n                  id=\"outlined-multiline-static-amount\"\n                  className={classes.textField}\n                  disabled={false}\n                  style={{ width: \"80%\", marginLeft: '30px' }}\n                  value={this.props.newPayment.amount}\n                  onChange={this.updateAmount}\n                  margin=\"normal\"\n                  label={\n                    this.state.sendEther ? this.state.denom : this.state.token\n                  }\n                  type={\"number\"}\n                  helperText={\n                    !validAmount\n                      ? \"Amount is not valid\"\n                      : !this.state.balanceLoaded\n                      ? \"Wait for balance to load\"\n                      : !this.state.balanceEnough\n                      ? \"Balance is not enough.\"\n                      : \"\"\n                  }\n                  error={\n                    !validAmount ||\n                    !this.state.balanceLoaded ||\n                    !this.state.balanceEnough\n                  }\n                />\n              </div>\n              <div style={{ width: \"30%\", marginTop: \"2px\" }}>\n                <FormControl className={classes.formControl}>\n                  <InputLabel htmlFor=\"denom-helper\">Denomination</InputLabel>\n                  <Select\n                    value={\n                      this.state.sendEther\n                        ? this.state.denom\n                        : this.state.token\n                    }\n                    onChange={this.handleSelectChange}\n                    style={{ width: \"90%\" }}\n                    input={\n                      <Input\n                        name={this.state.sendEther ? \"denom\" : \"token\"}\n                        id={\n                          this.state.sendEther\n                            ? \"denom-helper\"\n                            : \"token-helper\"\n                        }\n                      />\n                    }\n                  >\n                    {this.state.sendEther\n                      ? NewPayment.selectedDenoms.map(key => {\n                          return (\n                            <MenuItem\n                              selected={key === this.state.denom}\n                              key={key}\n                              value={key}\n                            >\n                              {key}\n                            </MenuItem>\n                          );\n                        })\n                      : NewPayment.whitelistedTokens.map(key => {\n                          return (\n                            <MenuItem\n                              selected={key === this.state.token}\n                              key={key}\n                              value={key}\n                            >\n                              {key}\n                            </MenuItem>\n                          );\n                        })}\n                  </Select>\n                  <FormHelperText />\n                </FormControl>\n              </div>\n            </Grid>\n            <div\n              style={{ width: \"60%\", marginLeft: \"32px\", fontSize: \"0.75em\" }}\n            >\n              Your {this.state.sendEther ? \"ETH\" : this.state.token} balance\n              is {this.state.displayBalance}.\n            </div>\n\n            <br />\n          </div>\n          <p style={formLabel}>Available time window:</p>\n          <p style={{ fontSize: \"0.75em\" }}>\n            The recipient can only retrieve the funds within this amount of\n            time after the transaction is submitted.\n          </p>\n          <div style={{ marginLeft: \"32px\" }}>\n            {[\"days\", \"hours\", \"minutes\"].map(input => {\n              const badTime = this.isBadTimeInput(input);\n              // See https://stackoverflow.com/questions/45939909/put-length-contraint-in-a-textfield-in-react-js\n              return (\n                <Fragment key={input}>\n                  <TextField\n                    id={\"outlined-multiline-static-\" + input}\n                    value={this.props.newPayment.holdTime[input]}\n                    className={classes.textField}\n                    disabled={false}\n                    style={{ width: \"20%\" }}\n                    variant=\"standard\"\n                    margin=\"normal\"\n                    label={input}\n                    onChange={this.props.updateNewPaymentTime(\n                      \"holdTime\",\n                      input\n                    )}\n                    type={\"number\"}\n                    error={badTime}\n                    onFocus={handleFocus}\n                    helperText={badTime ? \"Integers only\" : \"\"}\n                    onInput={e => {\n                      e.target.value = Math.max(0, parseInt(e.target.value))\n                        .toString()\n                        .slice(0, 2);\n                    }}\n                  />\n                </Fragment>\n              );\n            })}\n          </div>\n          <br />\n\n            <p style={formLabel}>Passphrase: </p>\n            <Grid container direction=\"row\">\n            <TextField\n              id=\"outlined-multiline-static-passphrase\"\n              value={passphrase.join(\" \")}\n              className={classes.textField}\n              disabled={true}\n              margin=\"normal\"\n              label={\"Passphrase\"}\n              style={{ marginLeft: \"32px\", width: \"50%\" }}\n              type={this.state.showPassword ? \"text\" : \"password\"}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"Toggle passphrase visibility\"\n                      onClick={this.handleClickShowPassword}\n                    >\n                      {this.state.showPassword ? (\n                        <VisibilityOff />\n                      ) : (\n                        <Visibility />\n                      )}\n\n                    </IconButton>\n                  </InputAdornment>\n                )\n              }}\n            />\n            <Tooltip title={\"Generate a new code\"}>\n              <IconButton\n                size=\"small\"\n                className={classes.button}\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={this.refreshCode}\n              >\n<RefreshIcon />\n              </IconButton>\n            </Tooltip>\n            <CopyToClipboard\n              text={passphrase.join(\" \")}\n              onCopy={() => this.setState({ copied: true })}\n            >\n              <Tooltip title={\"Copy passphrase to clipboard\"}>\n                <IconButton>\n                  <FileCopyIcon />\n                </IconButton>\n              </Tooltip>\n            </CopyToClipboard>{\" \"}\n            {this.state.copied ? (\n              <span style={{ color: \"red\" }}>Copied.</span>\n            ) : null}\n          </Grid>\n          <br />\n          <div style={{ width: \"90%\" }}>\n            <Divider />\n          </div>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"space-between\"\n            style={{ width: \"90%\" }}\n          >\n            <div>\n              <p style={{ fontSize: \"0.7em\" }}>\n                **All transactions are charged a 0.001 ETH base fee along with a payment fee (separate from\n                gas costs) to help maintain this service.\n              </p>\n            </div>\n            <MediaQuery query=\"(min-width: 1300px)\">\n              {matches => {\n                if (matches) {\n                  return (\n                    <div>\n                      <Button\n                        className={classes.button}\n                        classes={{\n                          label: classes.buttonText,\n                        }}\n                        variant=\"contained\"\n                        onClick={this.toggleSubmitDialog(true)}\n                        color=\"primary\"\n                        disabled={disableSubmit}\n                        size=\"small\"\n                      >\n                        Submit\n                      </Button>\n\n                      <Button\n                        className={classes.cancelButton}\n                        color=\"secondary\"\n                        onClick={this.props.toggleNew(false)}\n                        size=\"small\"\n                      >\n                        Cancel\n                      </Button>\n                    </div>\n                  );\n                } else {\n                  return (\n                    <div style={{ width: '100%' }}>\n                      <Grid container direction=\"row-reverse\" justify=\"center\">  \n                        <Button\n                          className={classes.button}\n                          onClick={this.toggleSubmitDialog(true)}\n                          disabled={disableSubmit}\n                          size=\"medium\"\n                        >\n                          Submit\n                        </Button>\n                        <Button\n                          className={classes.button}\n                          onClick={this.props.toggleNew(false)}\n                          size=\"medium\"\n                        >\n                          Cancel\n                        </Button>\n                      </Grid>\n                    </div>\n                  )\n                }\n              }}\n            </MediaQuery>\n              {disableSubmit ? \"\" :\n                  <SubmitDialog\n                      open={this.state.submitOpen}\n                      newPayment={this.props.newPayment}\n                      badAddr={badAddr}\n                      code={passphrase.join(\" \")}\n                      toggleSubmit={this.toggleSubmitDialog}\n                      createPayment={this.props.createPayment}\n                      denom={this.state.denom}\n                      token={this.state.token}\n                      sendEther={this.state.sendEther}\n                      etherclearContractInstance={\n                          this.props.etherclearContractInstance\n                      }\n                  />\n              }\n          </Grid>\n          <br />\n            {disableSubmit ? (\n              <div>\n                <p style={{ color: \"red\", fontSize: '0.75em', textAlign: 'center', marginBottom: '32px' }}>\n                  Correct errors before submitting.\n                </p>\n              </div>\n            ) : (\n              \"\"\n            )}\n        </div>\n    );\n  }\n}\n\nNewPayment.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: theme })(withBreakpoints(NewPayment));\n","/**\n * Payment Row component is a single\n * row of the Payments Index\n * It will hold no state and use the payment prop passed from\n * parent to display info about payment\n */\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { TableCell, TableRow } from \"@material-ui/core\";\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport {withTheme } from '@material-ui/styles'\nimport MediaQuery from \"react-responsive\";\nimport App from \"./App\";\n\n// custom mui theme\nconst theme = createMuiTheme();\n\n// TODO: not DRY, already used in PaymentDetails\n// TODO: build from token data\nconst tokenAddrToSymbol = {\n  \"0x583cbBb8a8443B38aBcC0c956beCe47340ea1367\": \"BOKKY\",\n  \"0x0000000000000000000000000000000000000000\": \"ETH\"\n};\n\nconst PaymentStatus = { OPEN: 0, CLOSED: 1, CANCELLED: 2 };\n\nconst PaymentRow = props => {\n  const { payment, history } = props;\n  let paymentStatusText;\n  switch (parseInt(payment.state)) {\n    case PaymentStatus.OPEN:\n      paymentStatusText = \"OPEN\";\n      break;\n    case PaymentStatus.CLOSED:\n      paymentStatusText = \"CLOSED\";\n      break;\n    case PaymentStatus.CANCELLED:\n      paymentStatusText = \"CANCELLED\";\n      break;\n    default:\n      paymentStatusText = \"ERROR\";\n  }\n\n  // TODO: new Date(0) is probably not a good way to fail here.\n  const openDate =\n    payment.paymentOpenTime === 0\n      ? new Date(0)\n      : new Date(payment.paymentOpenTime * 1000);\n\n  const dateOptions = {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n    minute: \"numeric\",\n    hour: \"numeric\"\n  };\n\n  let symbol = tokenAddrToSymbol[payment.token];\n  let numDecimals = 18;\n  if (symbol !== \"ETH\") {\n    numDecimals = parseInt(App.ropstenTokenMap[symbol].decimals);\n  }\n\n  let utils = window.web3.utils;\n\n  let amount =\n    symbol === \"ETH\"\n      ? utils.fromWei(payment.sendAmount.toString(), \"ether\")\n      : payment.sendAmount / Math.pow(10, numDecimals);\n\n  return (\n    <TableRow\n      hover\n      onClick={() =>\n        history.push(`/app/payment/${payment.paymentId}`, { payment })\n      }\n    >\n      <TableCell>{openDate.toLocaleString(\"en\", dateOptions)}</TableCell>\n\n      <MediaQuery query=\"(min-device-width: 1200px)\">\n        {matched => {\n          if (matched) {\n            return <TableCell>{amount}</TableCell>;\n          } else {\n            return \"\";\n          }\n        }}\n      </MediaQuery>\n      <TableCell>{tokenAddrToSymbol[payment.token]}</TableCell>\n      <TableCell>{paymentStatusText}</TableCell>\n    </TableRow>\n  );\n};\n\nexport default withTheme((withRouter(PaymentRow)));\n","import React, { Component } from \"react\";\nimport {\n  Divider,\n  Grid,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\nimport MediaQuery from \"react-responsive\";\nimport { createMuiTheme} from '@material-ui/core/styles';\nimport {withTheme } from '@material-ui/styles'\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport PaymentRow from \"./PaymentRow\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\n// custom mui theme\nconst theme = createMuiTheme();\n\nclass PaymentsIndex extends Component {\n  constructor(props) {\n    super(props);\n    // payment type will always be OPEN or CLOSED\n    this.state = {\n      paymentType: \"all\",\n      openPayments: [],\n      closedPayments: [],\n      loading: true\n    };\n    this.latestTsFirst = this.latestTsFirst.bind(this);\n    this.filterPayments = this.filterPayments.bind(this);\n    this.onFilterChange = this.onFilterChange.bind(this);\n  }\n\n  // when component mounts will filter payments and display\n  async componentDidMount() {\n    await this.filterPayments();\n    // when all setup make loading false\n    // TODO: necessary??\n    await this.setState({ loading: false });\n  }\n\n  // Custom comparator to sort payments with the most\n  // recent at the top.\n  latestTsFirst = (a, b) => {\n    if (a.paymentOpenTime > b.paymentOpenTime) return -1;\n    if (b.paymentOpenTime > a.paymentOpenTime) return 1;\n\n    return 0;\n  };\n\n  refreshPayments = async () => {\n    await this.props.getPaymentEvents();\n    await this.filterPayments();\n  };\n\n  filterPayments = async () => {\n    let sortedPayments = this.props.allPayments.sort(this.latestTsFirst);\n    let openPayments = [];\n    let closedPayments = [];\n\n    // TODO: should I be making a copy here?\n    for (let i = 0; i < sortedPayments.length; i++) {\n      if (sortedPayments[i].state === 0) {\n        openPayments.push(sortedPayments[i]);\n      } else {\n        closedPayments.push(sortedPayments[i]);\n      }\n    }\n\n    this.setState({\n      openPayments,\n      closedPayments\n    });\n  };\n\n  /**\n   * OnFilterChange takes in the checked checkbox from\n   * clicked item and sets state of paymentType to value\n   *\n   * @param\n   * checked: obj\n   *\n   */\n  onFilterChange = item => this.setState({ paymentType: item.value });\n\n  render() {\n    const { allPayments } = this.props;\n    const { paymentType, openPayments, closedPayments, loading } = this.state;\n\n    if (loading) {\n      return <h1>Loading...</h1>;\n    }\n\n    // when filtering by age validDaysInput makes sure it is\n    // an ok input\n    const validDaysInput = !isNaN(parseInt(this.props.daysInput));\n\n    // makes header mobile responsive\n    const headerWidth = window.screen.width < 1200 ? \"75%\" : \"22%\";\n\n    const headerSize = window.screen.width < 1200 ? \"1.7em\" : \"2em\";\n\n    const dynamicFont = window.screen.width < 1200 ? \".8em\" : \"1.5em\";\n\n    return (\n      <div style={{ padding: \"40px\" }}>\n        <div style={{ width: headerWidth, margin: \"auto\" }}>\n          <h3\n            style={{\n              fontSize: headerSize,\n              textAlign: \"center\",\n              fontWeight: \"500\",\n              marginBottom: \"0px\"\n            }}\n          >\n            My Payments\n          </h3>\n          <Divider />\n        </div>\n        <div style={{ marginLeft: '24px' }}>\n          <Grid container direction=\"row\">\n            <p style={{ fontWeight: \"500\", fontSize: \"1.2em\" }}>\n              Filter Payments\n            </p>\n            <IconButton\n              onClick={this.refreshPayments}\n              disabled={\n                this.props.etherclearContractInstance === undefined ||\n                !validDaysInput\n              }\n            >\n              <Tooltip title={\"Refresh payment list\"}>\n                <RefreshIcon />\n              </Tooltip>\n            </IconButton>\n          </Grid>\n\n          <TextField\n            id=\"outlined-multiline-static\"\n            onChange={this.props.updateDaysInput}\n            value={this.props.daysInput}\n            disabled={this.props.etherclearContractInstance === undefined}\n            margin=\"normal\"\n            label={\"Past days\"}\n            helperText={\n              validDaysInput\n                ? \"# of past days to display payments\"\n                : \"Invalid input.\"\n            }\n            error={!validDaysInput}\n          />\n\n          <Grid container direction=\"column\">\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={paymentType === \"all\"}\n                  onChange={event => this.onFilterChange(event.target)}\n                  value=\"all\"\n                />\n              }\n              style={{ fontSize: \"0.75em\" }}\n              label=\"All Payments\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={paymentType === \"OPEN\"}\n                  onChange={event => this.onFilterChange(event.target)}\n                  value=\"OPEN\"\n                />\n              }\n              label=\"Open Payments\"\n            />\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={paymentType === \"CLOSED\"}\n                  onChange={event => this.onFilterChange(event.target)}\n                  value=\"CLOSED\"\n                />\n              }\n              label=\"Closed Payments\"\n            />\n          </Grid>\n        </div>\n\n        <div style={{ width: \"100%\", paddingLeft: '16px' }}>\n          {paymentType === \"OPEN\" ? (\n            <div>\n              <h3\n                style={{\n                  fontSize: \"1.5em\",\n                  marginBottom: \"4px\",\n                  fontWeight: \"400\"\n                }}\n              >\n                Open Payments\n              </h3>\n\n              <Table style={{ minWidth: \"330px\" }}>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Date Sent</TableCell>\n                    <MediaQuery query=\"(min-device-width: 1200px)\">\n                      {matched => {\n                        if (matched) {\n                          return <TableCell>Amount Sent</TableCell>;\n                        } else {\n                          return \"\";\n                        }\n                      }}\n                    </MediaQuery>\n                    <TableCell>Token</TableCell>\n                    <TableCell>Payment Status</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {openPayments.length > 0\n                    ? openPayments.map(payment => (\n                        <PaymentRow key={payment.paymentId} payment={payment} />\n                      ))\n                    : <tr/>}\n                </TableBody>\n              </Table>\n              {openPayments.length > 0 ? (\n                \"\"\n              ) : (\n                <div style={{ marginTop: \"32px\" }}>\n                  <h3\n                    style={{\n                      color: \"gray\",\n                      textAlign: \"center\",\n                      textDecoration: \"underline\",\n                      fontSize: dynamicFont,\n                      fontWeight: \"normal\"\n                    }}\n                  >\n                    No open payments for this date range.\n                  </h3>\n                </div>\n              )}\n            </div>\n          ) : paymentType === \"CLOSED\" ? (\n            <div>\n              <h3\n                style={{\n                  fontSize: \"1.5em\",\n                  marginBottom: \"4px\",\n                  fontWeight: \"400\"\n                }}\n              >\n                Closed Payments\n              </h3>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Date Sent</TableCell>\n                    <MediaQuery query=\"(min-device-width: 1200px)\">\n                      {matched => {\n                        if (matched) {\n                          return <TableCell>Amount Sent</TableCell>;\n                        } else {\n                          return \"\";\n                        }\n                      }}\n                    </MediaQuery>\n                    <TableCell>Token</TableCell>\n                    <TableCell>Payment Status</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {closedPayments.length > 0\n                    ? closedPayments.map(payment => (\n                        <PaymentRow key={payment.paymentId} payment={payment} />\n                      ))\n                    : <tr/>}\n                </TableBody>\n              </Table>\n              {closedPayments.length > 0 ? (\n                \"\"\n              ) : (\n                <div style={{ marginTop: \"32px\" }}>\n                  <h3\n                    style={{\n                      color: \"gray\",\n                      textAlign: \"center\",\n                      textDecoration: \"underline\",\n                      fontSize: dynamicFont,\n                      fontWeight: \"normal\"\n                    }}\n                  >\n                    No closed payments for this date range.\n                  </h3>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div>\n              <h3\n                style={{\n                  fontSize: \"1.5em\",\n                  marginBottom: \"4px\",\n                  fontWeight: \"400\"\n                }}\n              >\n                All Payments\n              </h3>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Date Sent</TableCell>\n                    <MediaQuery query=\"(min-device-width: 1200px)\">\n                      {matched => {\n                        if (matched) {\n                          return <TableCell>Amount Sent</TableCell>;\n                        } else {\n                          return \"\";\n                        }\n                      }}\n                    </MediaQuery>\n                    <TableCell>Token</TableCell>\n                    <TableCell>Payment Status</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody style={{ width: \"90%\" }}>\n                  {allPayments.length > 0\n                    ? allPayments.map(payment => (\n                        <PaymentRow key={payment.paymentId} payment={payment} />\n                      ))\n                    : <tr/>}\n                </TableBody>\n              </Table>\n              {allPayments.length > 0 ? (\n                \"\"\n              ) : (\n                <div style={{ marginTop: \"32px\" }}>\n                  <h3\n                    style={{\n                      color: \"gray\",\n                      textAlign: \"center\",\n                      textDecoration: \"underline\",\n                      fontSize: dynamicFont,\n                      fontWeight: \"normal\"\n                    }}\n                  >\n                    No payments for this date range.\n                  </h3>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTheme(PaymentsIndex);\n","import React from \"react\";\nimport { ListItem, List, Badge, Drawer } from \"@material-ui/core\";\nimport { withRouter } from \"react-router-dom\";\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport { Link } from \"react-router-dom\";\n\n\n\n\n\n  // custom styles for MUI Components\nconst useStyles = makeStyles( theme => ({\n  paper: {\n      background: theme.palette.primary.main,\n    },\n  badgeStyles: {\n    color: 'white',\n    zIndex: '1',\n  },\n  badgeSpacing: {\n    marginLeft: '32px',\n  },\n  }));\n\nconst SideNavBar = props => {\n  const { appEvents } = props;\n  // (we have to have this theme var but its unused????)\n  // eslint-disable-next-line\n  const theme = useTheme();\n  // use custom MUI styles with theme passed throught\n  const classes = useStyles();\n  const eventCount =\n    Object.keys(appEvents).length < 1 ? null : Object.keys(appEvents).length;\n\n  return (\n    <Drawer\n      variant=\"permanent\"\n      anchor=\"left\"\n      open\n      className={classes.paper}\n      classes={{ paper: classes.paper }}\n    >\n      <div style={{ marginBottom: \"32px\", marginTop: \"24px\" }}>\n        <Link to={\"/\"}>\n          <img src={require(\"./text-logo.png\")} alt=\"Etherclear Logo\" />\n        </Link>\n      </div>\n      <div>\n        <List>\n          {[\n            [\"My Payments\", \"/app/payments\"],\n            [\"App Events\", \"/app/\"],\n          ].map((navItem, index) => (\n            <div key={index}>\n              {navItem[0] === \"App Events\" ? (\n                <Link to={navItem[1]} style={{ textDecoration: \"none\" }}>\n                  <ListItem button key={index}>\n                    <Badge badgeContent={eventCount} classes={{\n                      badge: classes.badgeStyles,\n                    }} color=\"secondary\">\n                      <p\n                        style={{\n                          color: \"white\",\n                          marginTop: '4px',\n                          fontSize: '1.2em',\n                          fontWeight: '400',\n                          marginRight: '6px',\n                          textDecoration:\n                            props.location.pathname === navItem[1]\n                              ? \"underline\"\n                              : \"none\"\n                        }}\n                      >\n                        {navItem[0]}\n                      </p>\n                    </Badge>\n                  </ListItem>\n                </Link>\n              ) : (\n                <Link to={navItem[1]} style={{ textDecoration: \"none\" }}>\n                  <ListItem button key={index}>\n                    <p\n                      style={{\n                        color: \"white\",\n                        fontSize: '1.2em',\n                        fontWeight: '400',\n                        textDecoration:\n                          props.location.pathname === navItem[1]\n                            ? \"underline\"\n                            : \"none\"\n                      }}\n                    >\n                      {navItem[0]}\n                    </p>\n                  </ListItem>\n                </Link>\n              )}\n            </div>\n          ))}\n        </List>\n      </div>\n    </Drawer>\n  );\n};\n\nexport default withRouter(SideNavBar);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { createMuiTheme} from '@material-ui/core/styles';\nimport {withTheme } from '@material-ui/styles'\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Divider from \"@material-ui/core/Divider\";\n\n\n// custom mui theme\nconst theme = createMuiTheme();\n\nclass CancelPaymentDialog extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  cancelPayment = () => {\n    this.props.cancelPayment(this.props.payment.paymentId);\n    this.props.toggleCancel(false)();\n  };\n\n  shortStr = (str, len) => {\n    return str.substring(0, len) + \"...\";\n  };\n  render() {\n    const key = this.props._key;\n    return (\n      <div>\n        <Dialog\n          open={this.props.open}\n          onClose={this.props.toggleCancel(false)}\n          aria-labelledby={\"cancel-dialog-title\" + key}\n          aria-describedby={\"cancel-dialog-description\" + key}\n        >\n          <DialogTitle id={\"cancel-dialog-title\" + key}>\n            {\"Cancel payment \" +\n              this.shortStr(this.props.payment.paymentId, 10)}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id={\"cancel-dialog-description\" + key}>\n              This action will return funds back to you and close the payment.\n            </DialogContentText>\n          </DialogContent>\n          <Divider />\n          <DialogActions>\n            <Button onClick={this.cancelPayment} color=\"primary\">\n              Confirm\n            </Button>\n            <Button\n              onClick={this.props.toggleCancel(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              Go Back\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default withTheme((CancelPaymentDialog));\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport { createMuiTheme, withTheme } from '@material-ui/core/styles';\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Divider from \"@material-ui/core/Divider\";\n\nconst theme = createMuiTheme();\n\nclass WithdrawDialog extends React.Component {\n  state = {\n    open: false,\n    passphraseInput: \"\"\n  };\n\n  updatePassphraseInput = event => {\n    this.setState({ passphraseInput: event.target.value });\n  };\n\n  retrieveFunds = feeless => () => {\n    if (feeless) {\n      this.props.retrieveFundsFeeless(\n        this.props.payment.paymentId,\n        this.state.passphraseInput,\n        this.props.payment.sender\n      );\n    } else {\n      this.props.retrieveFunds(\n        this.props.payment.paymentId,\n        this.state.passphraseInput\n      );\n    }\n    this.props.toggleWithdraw(false)();\n  };\n\n  isPassphraseCorrect = passphrase => {\n    return (\n      this.props.payment.codeHash ===\n      window.web3.utils.soliditySha3(passphrase, this.props.payment.recipient)\n    );\n  };\n\n  render() {\n    const passphraseCorrect = this.isPassphraseCorrect(\n      this.state.passphraseInput\n    );\n    const classes = this.props;\n    const key = this.props._key;\n    return (\n      <div>\n        <Dialog\n          open={this.props.open}\n          onClose={this.props.toggleWithdraw(false)}\n          aria-labelledby={\"alert-dialog-title\" + key}\n          aria-describedby={\"alert-dialog-description\" + key}\n        >\n          <DialogTitle id={\"alert-dialog-title\" + key}>\n            {\"Enter passphrase for payment \" +\n              this.props.payment.paymentId.substring(0, 12) +\n              \"...\"}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id={\"alert-dialog-description\" + key}>\n              Enter the passphrase that has been sent by the recipient for this\n              payment:\n            </DialogContentText>\n            <TextField\n              id=\"outlined-multiline-static\"\n              className={classes.textField}\n              onChange={this.updatePassphraseInput}\n              value={this.state.passphraseInput}\n              disabled={false}\n              margin=\"normal\"\n              label={\"Passphrase\"}\n              variant=\"outlined\"\n              helperText={\n                passphraseCorrect\n                  ? \"Passphrase is correct!\"\n                  : \"Error: Wrong passphrase\"\n              }\n              error={!passphraseCorrect}\n            />\n          </DialogContent>\n          <Divider />\n          <DialogActions>\n            <Button\n              onClick={this.retrieveFunds(false)}\n              disabled={!passphraseCorrect}\n              color=\"primary\"\n            >\n              Submit\n            </Button>\n            <Button\n              onClick={this.retrieveFunds(true)}\n              disabled={!passphraseCorrect}\n              color=\"primary\"\n            >\n              Submit (feeless)\n            </Button>\n            <Button\n              onClick={this.props.toggleWithdraw(false)}\n              color=\"primary\"\n              autoFocus\n            >\n              Cancel\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default withTheme((WithdrawDialog));\n","import React from \"react\";\nimport { Button, Divider, Grid, TextField } from \"@material-ui/core\";\nimport lightGreen from \"@material-ui/core/colors/lightGreen\";\nimport red from \"@material-ui/core/colors/red\";\nimport { withBreakpoints } from 'react-breakpoints';\nimport { withRouter } from \"react-router-dom\";\nimport { createMuiTheme, withStyles } from '@material-ui/core/styles';\nimport OpenInNew from \"@material-ui/icons/OpenInNew\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport App from \"./App\";\nimport CancelPaymentDialog from \"./CancelPaymentDialog\";\nimport WithdrawDialog from \"./WithdrawDialog\";\n\n// custom mui theme\nconst theme = createMuiTheme();\n\nconst styles = theme => ({\n  buttonLabel: {\n    color: 'white',\n  },\n  button: {\n    color: theme.palette.secondary.main\n  },\n});\n\n// TODO: build this from tokenData\nconst tokenAddrToSymbol = {\n  \"0x583cbBb8a8443B38aBcC0c956beCe47340ea1367\": \"BOKKY\",\n  \"0x0000000000000000000000000000000000000000\": \"ETH\"\n};\n\n// Returns true if to and from address are equal\nconst addrEquals = (str1, str2) => {\n  try {\n    return str1.toLowerCase() === str2.toLowerCase();\n  } catch (err) {\n    return str1 === str2;\n  }\n};\n\n/**\n * PaymentDetails is the component that renders\n * information and action buttons for specific payment\n */\n\nclass PaymentDetails extends React.Component {\n  state = {\n    openCancel: false,\n    openWithdraw: false,\n    recipientName: null,\n    senderName: null\n  };\n\n  toggleWithdraw = bool => () => {\n    this.setState({ openWithdraw: bool });\n  };\n\n  toggleCancel = bool => () => {\n    this.setState({ openCancel: bool });\n  };\n\n  fetchENSNames = async txn => {\n    let recipientName = await this.props.getCachedAddrForENSName(txn.recipient);\n    let senderName = await this.props.getCachedAddrForENSName(txn.sender);\n    this.setState({ recipientName, senderName });\n  };\n\n  render() {\n    // returns whether payment is OPEN, CLOSED or CANCELLED\n    const PaymentStatus = { OPEN: 0, CLOSED: 1, CANCELLED: 2 };\n    // need this for breakpoints\n    const { breakpoints, currentBreakpoint } = this.props;\n\n    // used t map payment status to payment.state\n    const PaymentStatusToName = {\n      0: \"OPEN\",\n      1: \"COMPLETED\",\n      2: \"CANCELLED\"\n    };\n\n    const handleBackButton = () => this.props.history.push(\"/app/payments\");\n\n    const account =\n      this.props.allAccounts === undefined || this.props.allAccounts === []\n        ? 0\n        : this.props.allAccounts[0];\n\n    const txn = this.props.payment;\n\n    const openDate =\n      txn.paymentOpenTime === 0\n        ? undefined\n        : new Date(txn.paymentOpenTime * 1000);\n    const closeDate =\n      txn.paymentCloseTime === 0 || txn.paymentCloseTime === undefined\n        ? undefined\n        : new Date(txn.paymentCloseTime * 1000);\n\n    const shortAddr = (string, num) => {\n      return string.substring(0, num) + \"...\";\n    };\n\n    const fromOrTo = (() => {\n      if (addrEquals(account, txn.recipient)) {\n        if (addrEquals(account, txn.sender)) {\n          return \"SELF PAYMENT\";\n        } else {\n          return \"FROM: \" + shortAddr(txn.sender, 12);\n        }\n      } else {\n        return \"TO: \" + shortAddr(txn.recipient, 12);\n      }\n    })();\n\n    const status = txn.state;\n\n    // TODO: should be latest block TS.\n    const currTs = Date.now();\n\n    if (this.state.recipientName === null || this.state.senderName === null) {\n      this.fetchENSNames(txn);\n    }\n\n    let recipientName =\n      this.state.recipientName === undefined\n        ? txn.recipient\n        : this.state.recipientName;\n    let senderName =\n      this.state.senderName === undefined ? txn.sender : this.state.senderName;\n\n    const renderRecipientActions = (txn, timeLeft) => {\n      return (\n        <React.Fragment>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={status !== PaymentStatus.OPEN || timeLeft === 0}\n            size=\"small\"\n            onClick={this.toggleWithdraw(true)}\n          >\n            Withdraw Funds\n          </Button>\n          <WithdrawDialog\n            _key={this.props._key}\n            toggleWithdraw={this.toggleWithdraw}\n            open={this.state.openWithdraw}\n            retrieveFunds={this.props.retrieveFunds}\n            retrieveFundsFeeless={this.props.retrieveFundsFeeless}\n            payment={txn}\n          />\n        </React.Fragment>\n      );\n    };\n\n    const renderSenderActions = (txn, timeLeft) => {\n      const { classes } = this.props;\n      return (\n        <React.Fragment>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            classes={{\n              label: classes.buttonLabel,\n            }}\n            disabled={status !== PaymentStatus.OPEN}\n            size=\"small\"\n            onClick={this.toggleCancel(true)}\n          >\n            Cancel Payment\n          </Button>\n          <CancelPaymentDialog\n            _key={this.props._key}\n            toggleCancel={this.toggleCancel}\n            open={this.state.openCancel}\n            cancelPayment={this.props.cancelPayment}\n            payment={txn}\n          />\n        </React.Fragment>\n      );\n    };\n\n    // TODO: defined twice.\n    const formatTimeJSON = jsonStr => {\n      return (\n        \"Days: \" +\n        jsonStr[\"days\"] +\n        \", Hours: \" +\n        jsonStr[\"hours\"] +\n        \", Minutes: \" +\n        jsonStr[\"minutes\"]\n      );\n    };\n\n    let utils = window.web3.utils;\n\n    // TODO: this logic is repeated in PaymentsIndex\n    let symbol = tokenAddrToSymbol[txn.token];\n    let numDecimals = 18;\n\n    if (symbol !== \"ETH\") {\n      numDecimals = parseInt(App.ropstenTokenMap[symbol].decimals);\n    }\n\n    let amount =\n      symbol === \"ETH\"\n        ? utils.fromWei(txn.sendAmount.toString(), \"ether\")\n        : txn.sendAmount / Math.pow(10, numDecimals);\n\n    // TODO: need to use block timestamp here, unless accuracy +/- 15 min is not needed.\n    let timeLeft =\n      txn.paymentOpenTime * 1000 + txn.holdTime * 1000 > currTs\n        ? 1000 * txn.paymentOpenTime + 1000 * txn.holdTime - currTs\n        : 0;\n\n    const bodyWidth = window.screen.width < 1200 ? \"75%\" : \"100%\";\n\n    // changes color of payment status\n    // depending on whether it is open, closed or cancelled\n    let statusColor =\n      PaymentStatusToName[status] === \"OPEN\" ? lightGreen[500] : red[800];\n\n    // helps the flex-box be more mobile\n    // responsive\n    const flexLayout = window.screen.width < 1200 ? \"column-reverse\" : \"row\";\n\n    const dynamicFont = window.screen.width < 1200 ? \".70em\" : \"1em\";\n\n    const dateOptions = {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      minute: \"numeric\",\n      hour: \"numeric\"\n    };\n\n    const toLocaleString = date => {\n      return date.toLocaleString(\"en\", dateOptions);\n    };\n\n    return (\n      <div style={{ padding: \"40px\", width: (breakpoints[currentBreakpoint] < breakpoints.desktop) ? '75%' : '90%', marginLeft: '32px' }}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"center\"\n        >\n          <IconButton onClick={() => handleBackButton()}>\n            <ArrowBackIcon fontSize=\"large\" color=\"primary\" />\n          </IconButton>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignContent=\"center\"\n        >\n          <h3\n            style={{\n              fontSize: \"2em\",\n              textAlign: \"center\",\n              fontWeight: \"500\",\n              marginBottom: \"0px\"\n            }}\n          >\n            Payment Details\n          </h3>\n          <p\n            style={{\n              marginTop: \"4px\",\n              marginBottom: \"0px\",\n              textAlign: \"center\"\n            }}\n          >\n            {fromOrTo}\n          </p>\n          <p\n            style={{\n              marginTop: \"2px\",\n              marginBottom: \"4px\",\n              textAlign: \"center\",\n              fontSize: \".75em\"\n            }}\n          >\n            {toLocaleString(openDate)}\n          </p>\n          <Divider variant=\"fullWidth\" />\n        </Grid>\n        <Grid container direction={flexLayout} justify=\"space-between\">\n          <div>\n            <div>\n              <div style={{ fontSize: dynamicFont }}>\n                <Grid container direction=\"column\" justify=\"space-evenly\">\n                  <p>\n                    <strong>Payment ID:</strong>{\" \"}\n                    {shortAddr(\n                      window.web3.utils.toBN(txn.paymentId).toString(),\n                      12\n                    )}\n                  </p>\n                  <p>\n                    <strong>From:</strong> {senderName}\n                  </p>\n                  <p>\n                    <strong>To:</strong> {recipientName}\n                  </p>\n                  <Grid container direction=\"row\">\n                    <p style={{ marginRight: \"8px\" }}>\n                      <strong> Amount:</strong> {amount}\n                    </p>\n                    <p>\n                      <strong> Token:</strong> {symbol}\n                    </p>\n                  </Grid>\n                  <p>\n                    <strong>Time opened:</strong> {toLocaleString(openDate)}\n                  </p>\n                  <p>\n                    <strong>Time closed:</strong>{\" \"}\n                    {closeDate === undefined\n                      ? \"N/A\"\n                      : toLocaleString(closeDate)}\n                  </p>\n                  <p>\n                    <strong> Holding period:</strong>{\" \"}\n                    {formatTimeJSON(millisToJSON(txn.holdTime * 1000))}\n                  </p>\n                </Grid>\n                <br />\n                <h3 style={{ textDecoration: \"underline\", fontSize: \"2em\" }}>\n                  {\" \"}\n                  Transaction Hashes:{\" \"}\n                </h3>\n                <br />\n                <div>\n                  <Grid container direction=\"row\" alignContent=\"center\">\n                    <p style={{ marginRight: \"16px\", marginTop: \"16px\" }}>\n                      <strong>Payment opened:</strong>\n                    </p>\n                    <IconButton\n                      href={this.props.getEtherScanURL(txn.openHash)}\n                      target={\"_blank\"}\n                    >\n                      <OpenInNew />\n                    </IconButton>\n                  </Grid>\n                  <TextField\n                    id={\n                      \"outlined-multiline-static-hash-0-\" +\n                      this.props.uniqueKey +\n                      \"-\" +\n                      this.props._key\n                    }\n                    style={{ marginLeft: \"16px\" }}\n                    value={txn.openHash}\n                    disabled\n                  />\n                </div>\n                {status === PaymentStatus.OPEN ? (\n                  \"\"\n                ) : (\n                  <div style={{ width: \"50%\" }}>\n                    <Grid container direction=\"row\">\n                      <p style={{ marginRight: \"16px\", marginTop: \"16px\" }}>\n                        <strong>Payment closed:</strong>\n                      </p>\n                      <IconButton\n                        href={this.props.getEtherScanURL(txn.closeHash)}\n                        size=\"small\"\n                        target={\"_blank\"}\n                      >\n                        <OpenInNew />\n                      </IconButton>\n                    </Grid>\n                    <TextField\n                      id={\n                        \"outlined-multiline-static-hash-1-\" +\n                        this.props.uniqueKey +\n                        \"-\" +\n                        this.props._key\n                      }\n                      value={txn.closeHash}\n                      style={{ marginLeft: \"16px\" }}\n                      disabled\n                      margin=\"normal\"\n                      label=\"Transaction hash\"\n                    />\n                  </div>\n                )}\n                <br />\n                {status !== PaymentStatus.OPEN ? (\n                  <React.Fragment>\n                    <p>This payment is closed.</p>\n                  </React.Fragment>\n                ) : (\n                  \"\"\n                )}\n                {timeLeft === 0 ? (\n                  <React.Fragment>\n                    <p style={{ marginLeft: \"80px\" }}>\n                      The time window to complete payment has closed.\n                    </p>\n                  </React.Fragment>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n          </div>\n          <div style={{ margin: \"auto\", marginTop: \"16px\" }}>\n            <h3\n              style={{\n                fontSize: \"2.5em\",\n                textAlign: \"center\",\n                color: statusColor,\n                fontWeight: \"bold\",\n                marginBottom: \"0px\"\n              }}\n            >\n              {PaymentStatusToName[status]}\n            </h3>\n            <p style={{ fontSize: \"0.75em\", marginTop: \"2px\" }}>\n              Time left: {formatTimeJSON(millisToJSON(timeLeft))}\n            </p>\n          </div>\n        </Grid>\n        <Divider />\n        <div style={{ width: \"100%\", marginLeft: \"40px\" }}>\n          <Grid container direction=\"row\" justify=\"space-between\">\n            {addrEquals(account, txn.recipient)\n              ? renderRecipientActions(txn, timeLeft)\n              : \"\"}\n            {addrEquals(account, txn.sender)\n              ? renderSenderActions(txn, timeLeft)\n              : \"\"}\n          </Grid>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction millisToJSON(ms) {\n  let d, h, m, s;\n  s = Math.floor(ms / 1000);\n  m = Math.floor(s / 60);\n  s = s % 60;\n  h = Math.floor(m / 60);\n  m = m % 60;\n  d = Math.floor(h / 24);\n  h = h % 24;\n  return { days: d, hours: h, minutes: m, seconds: s };\n}\n\nexport default withStyles(styles, { withTheme: theme })(withBreakpoints(withRouter(PaymentDetails)));\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Web3 from \"web3\";\nimport { Link, Route, withRouter } from \"react-router-dom\";\nimport MediaQuery from \"react-responsive\";\nimport etherclearContractDefinition from \"./contracts/Etherclear.json\";\nimport IERC20ContractDefinition from \"./contracts/IERC20.json\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { Divider, Fab, Grid, TextField } from \"@material-ui/core/\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport PropTypes from \"prop-types\";\nimport { createMuiTheme, withStyles } from \"@material-ui/core/styles\";\n// TODO: have one source of truth for whitelisted tokens.\nimport EventExpansionPanel from \"./EventExpansionPanel\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { API_ROOT } from \"./api-config\";\nimport NewPayment from \"./NewPayment\";\nimport Button from \"@material-ui/core/Button\";\nimport ReactBreakpoints from 'react-breakpoints';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { logo } from \"./text-logo.png\";\nimport PaymentsIndex from \"./PaymentsIndex\";\nimport SideNavBar from \"./SideNavBar\";\nimport PaymentDetails from \"./PaymentDetails\";\nimport MobileNavBar from \"./MobileNavBar\";\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport { ThemeProvider } from '@material-ui/styles';\nimport CustomizedMenus from './DropDownNav'; \nimport MobileSideDrawer from './MobileSideDrawer';\n\n/**\n * Breakpoints are for device breakpoints\n * Currently using to dynmically render the side nav bar (on computer)\n * or the tabs for mobile devices\n */\nconst breakpoints = {\n  mobile: 360,\n  mobileLandscape: 480,\n  tablet: 768,\n  tabletLandscape: 1024,\n  desktop: 1200,\n  desktopLarge: 1500,\n  desktopWide: 1920,\n};\n\nvar contract = require(\"truffle-contract\");\nvar etherclearContractInstance;\n\n// TODO: bump this down to 400000\nconst GAS = \"600000\";\nconst ROPSTEN = \"3\";\n\nconst defaultDisplayDays = 5;\n\nconst sleep = milliseconds => {\n  return new Promise(resolve => setTimeout(resolve, milliseconds));\n};\n\nconst infuraProvider = new Web3.providers.HttpProvider(\n  \"https://ropsten.infura.io\"\n);\n\n// TODO: clean this up\nvar ENS = require(\"ethereum-ens\");\n\nvar ens = new ENS(infuraProvider);\n\nconst infuraWeb3 = new Web3(infuraProvider);\n\nconst BigNumber = require(\"bignumber.js\");\n\n// TODO: export from Homepage\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#757ce8\",\n      main: \"#3c9eb5\",\n      dark: \"#506184\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\"\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\"\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: \"33.33%\",\n    flexShrink: 0\n  },\n  appBar: {\n    position: \"relative\",\n    width: \"100%\",\n    backgroundColor: \"#3c9eb5\"\n  },\n  toolbarTitle: {\n    flex: 1\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  input: {\n    display: \"none\"\n  }\n});\n\nconst toBN = num => {\n  return new BigNumber(num);\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openNew: false,\n      newPayment: {\n        id: \"\",\n        recipient: \"\",\n        amount: \"0\",\n        holdTime: { days: 365, hours: 0, minutes: 0, seconds: 0 }\n      },\n      allPayments: [],\n      accounts: [],\n      menuOpen: {\n        openTx: { withdraw: -1, cancel: -1 },\n        closedTx: { withdraw: -1, cancel: -1 }\n      },\n      events: {},\n      daysInput: defaultDisplayDays,\n      mainAddrENSName: null,\n      contractAddrENSName: null,\n      addrToName: {}\n    };\n\n    this.onNewPaymentClick = this.onNewPaymentClick.bind(this);\n  }\n\n  toggleNew = bool => event => {\n    this.setState({ openNew: bool });\n  };\n\n  updateNewPayment = key => event => {\n    let newPayment = this.state.newPayment;\n    newPayment[key] = event.target.value;\n    this.setState({ newPayment });\n  };\n\n  updateNewPaymentTime = (key, duration) => event => {\n    let newPayment = this.state.newPayment;\n    newPayment[key][duration] = event.target.value;\n    this.setState({ newPayment });\n  };\n\n  getEtherScanURL = hash => {\n    if (this.state.network === \"ropsten\") {\n      return \"https://ropsten.etherscan.io/tx/\" + hash;\n    } else {\n      console.log(\n        \"error: no etherscan URL supported for current network: \" +\n          this.state.network\n      );\n      return \"\";\n    }\n  };\n  displayHashWithLinkMsg = (msg, hash) => {\n    return (\n      <div>\n        {\" \"}\n        {msg}{\" \"}\n        <a href={this.getEtherScanURL(hash)} target=\"_blank\">\n          {hash}\n        </a>\n      </div>\n    );\n  };\n\n\n  // when new payment button clicks, sends to payments page\n  onNewPaymentClick = () => this.props.history.push('/app/newPayment')\n\n  updateDaysInput = event => {\n    this.setState({ daysInput: event.target.value });\n  };\n\n  // We store mappings in case there are multiple payments to\n  // or from the same address.\n  getCachedAddrForENSName = async addr => {\n    let copy = this.state.addrToName;\n    let cachedAddr = this.state.addrToName[addr];\n    if (cachedAddr === undefined) {\n      let result = await this.resolveAddrToENSName(addr);\n      copy[addr] = result;\n      this.setState({ addrToName: copy });\n      return result;\n    } else {\n      return cachedAddr;\n    }\n  };\n\n  // Returns undefined if the name cannot be resolved\n  // for any reason.\n  resolveAddrToENSName = async addr => {\n    try {\n      let name = await ens.reverse(addr).name();\n      // Check to be sure the reverse record is correct.\n      if (name === null || addr !== (await ens.resolver(name).addr())) {\n        name = undefined;\n      }\n      return name;\n      // TODO: Better error handling? This occurs when\n      // the ENS name is not found\n    } catch (error) {\n      //console.log(error);\n      return undefined;\n    }\n  };\n\n  setMainAddrENSName = async addr => {\n    let name = await this.resolveAddrToENSName(addr);\n    this.setState({ mainAddrENSName: name });\n  };\n\n  setContractAddrENSName = async addr => {\n    let name = await this.resolveAddrToENSName(addr);\n    this.setState({ contractAddrENSName: name });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { events } = this.state;\n\n    const noAddr = \"N/A\";\n\n    const addr =\n      this.state.accounts === [] || this.state.accounts === undefined\n        ? noAddr\n        : this.state.accounts[0];\n\n    const validDaysInput = !isNaN(parseInt(this.state.daysInput));\n\n    // TODO: find a better way to refresh mainAddrENSName\n    if (\n      addr !== noAddr &&\n      addr !== undefined &&\n      this.state.mainAddrENSName === null\n    ) {\n      this.setMainAddrENSName(addr);\n    }\n\n    // TODO: once this is set to undefined, we won't try to\n    // retrieve the address again. May want a limited\n    // number of retries\n    if (this.state.contractAddrENSName === null) {\n      this.setContractAddrENSName(\n        etherclearContractDefinition.networks[ROPSTEN].address\n      );\n    }\n\n    let displayName;\n    if (\n      this.state.mainAddrENSName !== null &&\n      this.state.mainAddrENSName !== undefined\n    ) {\n      displayName = this.state.mainAddrENSName;\n    } else {\n      displayName = addr;\n    }\n\n    // Get contract address name\n    // Check if undefined (means that there was no name found)\n    let contractDisplayName;\n    if (\n      this.state.contractAddrENSName !== null &&\n      this.state.contractAddrENSName !== undefined\n    ) {\n      contractDisplayName = this.state.contractAddrENSName;\n    } else {\n      contractDisplayName =\n        etherclearContractDefinition.networks[ROPSTEN].address;\n    }\n\n    // NOTE: This is the current mobile/laptop breakpoint for etherclear\n    const mobileBreakpoint = 1200;\n\n    const bodyWidth = window.innerWidth < mobileBreakpoint ? \"100%\" : \"88%\";\n\n    // makes headers on dashboard mobile responsive\n    const headerWidth = window.innerWidth < mobileBreakpoint ? \"50%\" : \"22%\";\n\n    // styling for \"No accounts detected\"\n    // & \"Ropsten not detected\" styling\n    const noCredentialsMessage = {\n      fontSize: \"1em\",\n      fontWeight: \"500\",\n      textDecoration: \"underline\",\n      textAlign: \"center\",\n      color: \"gray\"\n    };\n\n    const gridHeight = window.innerWidth < mobileBreakpoint ? null : \"100vh\";\n\n    // TODO: classes.grow not defined\n    return (\n      <ReactBreakpoints breakpoints={breakpoints}>\n        <div>\n          <MuiThemeProvider theme={theme}>\n          <ThemeProvider theme={theme}>\n            <MediaQuery query={`(min-width: ${mobileBreakpoint}px)`}>\n              {\n                matches => {\n                  if (matches) {\n                    return (\n                      <Grid\n                        container \n                        direction=\"row\"\n                        justify=\"flex-end\"\n                        style={{ padding: '24px' }}\n                      >\n                        <CustomizedMenus /> \n                      </Grid>\n                    )\n                  } else {\n                    return '';\n                  }\n                }\n              }\n            </MediaQuery>\n            <Grid\n              container\n              direction=\"row\"\n              style={{ fontSize: \"16px\", height: gridHeight }}\n            >\n              <MediaQuery query={`(min-width: ${mobileBreakpoint}px)`}>\n                {matches => {\n                  if (matches) {\n                    return (\n                      <div style={{ width: \"20%\", flex: \"1\" }}>\n                        <SideNavBar appEvents={events} />\n                      </div>\n                    );\n                  } else {\n                    return (\n                      <div style={{ width: \"100%\" }}>\n                        <MobileNavBar appEvents={events} />\n                      </div>\n                    );\n                  }\n                }}\n              </MediaQuery>\n              <div style={{ width: bodyWidth }}>\n                <div className={classes.root}>\n                  <div>\n                    <div style={{ marginBottom: \"24px\" }}>\n                      <Grid container direction=\"column\" alignItems=\"center\">\n                        {/* Header Section */}\n                        <MediaQuery query={`(min-width: ${mobileBreakpoint}px)`}>\n                          {matches => {\n                            if (matches) {\n                              return (\n                                <div style={{ width: '100%' }}>\n                                    <Grid container direction=\"row\" justify=\"center\" style={{ marginBottom: '16px'}}>\n                                      <img src={require('./logo.svg')} style={{ width: '360px', marginTop: '24px' }} alt=\"Etherclear\" />\n                                    </Grid>\n                                  <Grid\n                                    container\n                                    direction=\"row\"\n                                    justify=\"center\"\n                                  >\n                                    <div>\n                                      <div>\n                                        <p\n                                          style={{\n                                            textAlign: \"left\",\n                                            marginLeft: \"8px\",\n                                            fontSize: \"1em\",\n                                            marginBottom: \"0px\"\n                                          }}\n                                        >\n                                          <a\n                                            href={\n                                              \"https://ropsten.etherscan.io/address/\" +\n                                              etherclearContractDefinition\n                                                .networks[ROPSTEN].address\n                                            }\n                                            target={\"_blank\"}\n                                          >\n                                            Contract:{\" \"}\n                                          </a>\n                                        </p>\n                                        <TextField\n                                          disabled\n                                          style={{\n                                            marginLeft: \"24px\",\n                                            width: \"85%\",\n                                            marginBottom: \"16px\"\n                                          }}\n                                          value={\n                                            contractDisplayName === undefined\n                                              ? \"\"\n                                              : contractDisplayName\n                                          }\n                                        />\n                                      </div>\n                                      <Grid\n                                        container\n                                        direction=\"row\"\n                                      >\n                                        <p\n                                          style={{\n                                            textAlign: \"left\",\n                                            marginLeft: \"8px\",\n                                            fontSize: \"1em\",\n                                            marginBottom: \"0px\"\n                                          }}\n                                        >\n                                          My Address:\n                                        </p>\n                                        <TextField\n                                          disabled\n                                          style={{\n                                            marginLeft: \"24px\",\n                                            width: \"75%\",\n                                            marginBottom: \"16px\"\n                                          }}\n                                          value={\n                                            displayName === undefined\n                                              ? \"\"\n                                              : displayName\n                                          }\n                                        />\n                                        <CopyToClipboard\n                                          text={addr}\n                                          disabled={\n                                            addr === noAddr || addr === undefined\n                                          }\n                                        >\n                                          <IconButton>\n                                            <Tooltip\n                                              title={\n                                                \"Copy address to clipboard\"\n                                              }\n                                            >\n                                              <FileCopyIcon />\n                                            </Tooltip>\n                                          </IconButton>\n                                        </CopyToClipboard>\n                                      </Grid>\n                                    </div>\n                                  </Grid>\n                                  <Grid container direction=\"row\" justify=\"center\">\n                                    <Button\n                                      variant=\"contained\"\n                                      color={\"primary\"}\n                                      fullWidth\n                                      size=\"medium\"\n                                      style={{ width: '33%', marginBottom: '8px' }}\n                                      onClick={this.onNewPaymentClick}\n                                      disabled={\n                                        addr === noAddr ||\n                                        etherclearContractInstance === undefined\n                                      }\n                                    >\n                                      New Payment\n                                    </Button>\n                                  </Grid>\n                                  <Divider />\n                                </div>\n                              );\n                            } else {\n                              return (\n                                <Grid container direction=\"row\" justify=\"space-between\">\n                                  <div style={{ position: 'fixed', bottom: '12px', left: '16px' }}>\n                                    <MobileSideDrawer\n                                      ROPSTEN={ROPSTEN}\n                                      etherclearContractDefinition={etherclearContractDefinition}\n                                      contractDisplayName={contractDisplayName}\n                                      displayName={displayName}\n                                      addr={addr}\n                                      noAddr={noAddr}\n                                      etherclearContractInstance={etherclearContractInstance}\n                                    />\n                                  </div>\n                                  <div style={{ position: 'fixed', right: '16px', bottom: '12px'}}>\n                                    <Fab\n                                      className={classes.button}\n                                      color={\"primary\"}\n                                      size=\"small\"\n                                      style={{ margin: '0px' }}\n                                      onClick={this.onNewPaymentClick}\n                                      disabled={\n                                        addr === noAddr ||\n                                        etherclearContractInstance === undefined\n                                      }\n                                    >\n                                      <AddIcon />\n                                    </Fab>\n                                  </div>\n                                </Grid>\n                              );\n                            }\n                          }}\n                        </MediaQuery>\n                        {addr === noAddr ? (\n                          <div>\n                            <p style={noCredentialsMessage}>\n                              No accounts detected.\n                            </p>\n                            <p style={{ color: \"gray\", fontSize: \"0.8em\" }}>\n                              Please{\" \"}\n                              <a href=\"https://metamask.io/\" target={\"_blank\"}>\n                                install Metamask\n                              </a>{\" \"}\n                              or use another web3 provider.\n                            </p>\n                          </div>\n                        ) : (\n                          \"\"\n                        )}\n                        {this.state.network !== \"ropsten\" ? (\n                          <div>\n                            <p style={noCredentialsMessage}>\n                              Ropsten network not detected.\n                            </p>\n                            <p style={{ color: \"gray\", fontSize: \"0.8em\" }}>\n                              Please ensure you are using the Ropsten testnet.\n                            </p>\n                          </div>\n                        ) : (\n                          \"\"\n                        )}\n                      </Grid>\n                    </div>\n                    <MediaQuery query={`(min-width: ${mobileBreakpoint})`}>\n                      {matches => {\n                        if (matches) {\n                          return (\n                            <Divider /> \n                          );\n                        } else {\n                          return \"\";\n                        }\n                      }}\n                    </MediaQuery>\n                    {/** App Events Sections */}\n                    <Route\n                      path=\"/app/\"\n                      exact\n                      render={() => (\n                        <div>\n                          <div style={{ width: headerWidth, margin: \"auto\" }}>\n                            <h3\n                              style={{\n                                fontSize: \"2em\",\n                                textAlign: \"center\",\n                                fontWeight: \"500\",\n                                marginBottom: \"0px\"\n                              }}\n                            >\n                              App Events\n                            </h3>\n                            <Divider />\n                          </div>\n                          <br />\n                          {Object.keys(this.state.events).length === 0 ? (\n                            <MediaQuery\n                              query={`min-width: ${mobileBreakpoint}px`}\n                            >\n                              {matches => {\n                                if (matches) {\n                                  return (\n                                    <div\n                                      style={{\n                                        width: \"40%\",\n                                        margin: \"auto\",\n                                        marginTop: \"80px\"\n                                      }}\n                                    >\n                                      <h3\n                                        style={{\n                                          fontWeight: \"normal\",\n                                          fontSize: \"1.5em\",\n                                          textDecoration: \"underline\",\n                                          textAlign: \"center\",\n                                          marginBottom: \"2px\",\n                                          color: \"gray\"\n                                        }}\n                                      >\n                                        No app events to display.\n                                      </h3>\n                                      <p\n                                        style={{\n                                          textAlign: \"center\",\n                                          color: \"gray\",\n                                          width: \"80%\",\n                                          margin: \"auto\"\n                                        }}\n                                      >\n                                        App events notify you about the status of\n                                        actions (e.g. creating and cancelling\n                                        payments). App events are only kept for\n                                        the current session, and will not persist\n                                        if you refresh the page.\n                                      </p>\n                                    </div>\n                                  );\n                                } else {\n                                  return (\n                                    <div\n                                      style={{\n                                        width: \"90%\",\n                                        margin: \"auto\",\n                                        marginTop: \"0px\"\n                                      }}\n                                    >\n                                      <h3\n                                        style={{\n                                          fontSize: \"1em\",\n                                          color: \"gray\",\n                                          textAlign: \"center\",\n                                          fontWeight: \"500\",\n                                          textDecoration: \"underline\"\n                                        }}\n                                      >\n                                        No app events to display.\n                                      </h3>\n                                      <p\n                                        style={{\n                                          textAlign: \"center\",\n                                          color: \"gray\",\n                                          width: \"80%\",\n                                          margin: \"auto\"\n                                        }}\n                                      >\n                                        App events notify you about the status of\n                                        actions (e.g. creating and cancelling\n                                        payments). App events are only kept for\n                                        the current session, and will not persist\n                                        if you refresh the page.\n                                      </p>\n                                    </div>\n                                  );\n                                }\n                              }}\n                            </MediaQuery>\n                          ) : (\n                            <EventExpansionPanel\n                              events={this.state.events}\n                              clearEvent={this.clearEvent}\n                            />\n                          )}\n                        </div>\n                      )}\n                    />\n\n                    {/** New Payment Section */}\n                    <Route\n                      path=\"/app/newPayment\"\n                      exact\n                      render={() => (\n                        <NewPayment\n                          toggleNew={this.toggleNew}\n                          newPayment={this.state.newPayment}\n                          updateNewPayment={this.updateNewPayment}\n                          updateNewPaymentTime={this.updateNewPaymentTime}\n                          createPayment={this.createPayment}\n                          updateTokenBalance={this.updateTokenBalance}\n                          etherclearContractInstance={etherclearContractInstance}\n                          resolveAddrToENSName={this.resolveAddrToENSName}\n                        />\n                      )}\n                    />\n\n                    {/** Payments Index Section */}\n                    <Route\n                      path=\"/app/payments\"\n                      exact\n                      render={() => (\n                        <div style={{ width: \"100%\" }}>\n                          <PaymentsIndex\n                            createPayment={this.createPayment}\n                            updateTokenBalance={this.updateTokenBalance}\n                            updateDaysInput={this.updateDaysInput}\n                            daysInput={this.state.daysInput}\n                            etherclearContractInstance={\n                              etherclearContractInstance\n                            }\n                            retrieveFunds={this.retrieveFunds}\n                            retrieveFundsFeeless={this.retrieveFundsFeeless}\n                            cancelPayment={this.cancelPayment}\n                            getPayments={this.getPayments}\n                            getPaymentEvents={this.getPaymentEvents}\n                            allPayments={this.state.allPayments}\n                            allAccounts={this.state.accounts}\n                            menuOpen={this.state.menuOpen}\n                            toggleMenuOpen={this.toggleMenuOpen}\n                            checkRetrieveSignature={this.checkRetrieveSignature}\n                            events={this.state.events}\n                            clearEvent={this.clearEvent}\n                            getEtherScanURL={this.getEtherScanURL}\n                          />\n                        </div>\n                      )}\n                    />\n\n                    {/** Payment Details View (empty if we have not yet fetched the etherclear contract instance)*/}\n                    <Route\n                      path=\"/app/payment/:id\"\n                      exact\n                      render={({ location }) =>\n                        addr === noAddr ||\n                        etherclearContractInstance === undefined ? (\n                          \"\"\n                        ) : (\n                          <PaymentDetails\n                            payment={location.state.payment}\n                            toggleWithdraw={this.toggleMenuOpen(\"closedTx\")(\n                              \"withdraw\"\n                            )}\n                            toggleCancel={this.toggleMenuOpen(\"closedTx\")(\n                              \"cancel\"\n                            )}\n                            retrieveFunds={this.retrieveFunds}\n                            retrieveFundsFeeless={this.retrieveFundsFeeless}\n                            cancelPayment={this.cancelPayment}\n                            allAccounts={this.state.accounts}\n                            getEtherScanURL={this.getEtherScanURL}\n                            getCachedAddrForENSName={this.getCachedAddrForENSName}\n                          />\n                        )\n                      }\n                    />\n                  </div>\n                </div>\n              </div>\n            </Grid>\n          </ThemeProvider>\n          </MuiThemeProvider>\n        </div>\n      </ReactBreakpoints>\n    );\n  }\n\n  // TODO: Delete.\n  checkRetrieveSignature = (msg, sig) => {\n    const signature = sig.substring(2);\n    const sigR = \"0x\" + signature.substring(0, 64);\n    const sigS = \"0x\" + signature.substring(64, 128);\n    const sigV = parseInt(signature.substring(128, 130), 16);\n\n    console.log(sigR);\n    console.log(sigS);\n    console.log(sigV);\n    console.log(msg.txID);\n    console.log(msg.sender);\n    console.log(msg.recipient);\n    console.log(msg.passphrase);\n\n    etherclearContractInstance\n      .checkRetrieveSignature(\n        msg.txID,\n        msg.sender,\n        msg.recipient,\n        msg.passphrase,\n        sigR,\n        sigS,\n        sigV,\n        {\n          from: this.state.accounts[0],\n          gas: GAS\n        }\n      )\n      .then(result => {\n        console.log(result);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  toggleMenuOpen = menuName => name => index => () => {\n    console.log(this.state.menuOpen);\n    let copy = this.state.menuOpen;\n    copy[menuName][name] = index;\n    this.setState({ menuOpen: copy });\n  };\n\n  updateEvents = (event, key) => {\n    let eventsCopy = this.state.events;\n    eventsCopy[key] = event;\n    this.setState({ events: eventsCopy });\n  };\n\n  // Convenience functions to update events.\n  // The way these are used currently, the functions will persist\n  // new events on an updated, even after the user clears an event.\n\n  updateEvent = (event, key, line, statusText) => {\n    //let event = this.state.events[key];\n    event.statusText = statusText;\n    event.msgLines.push(line);\n    this.updateEvents(event, key);\n  };\n\n  updateEventForSuccess = (event, key, line) => {\n    //let event = this.state.events[key];\n    event.statusText = \"Success\";\n    event.msgLines.push(line);\n    event.loading = false;\n    this.updateEvents(event, key);\n  };\n\n  updateEventForError = (event, key, line) => {\n    //let event = this.state.events[key];\n    event.statusText = \"Error\";\n    event.msgLines.push(line);\n    event.loading = false;\n    this.updateEvents(event, key);\n  };\n\n  clearEvent = ts => {\n    let eventsCopy = this.state.events;\n    delete eventsCopy[ts.toString()];\n    this.setState({ events: eventsCopy });\n  };\n\n  createPayment = (amount, recipient, holdTime, codeHash, denom, sendEther) => {\n    if (!sendEther) {\n      return this.createTokenPayment(\n        amount,\n        recipient,\n        holdTime,\n        codeHash,\n        denom\n      );\n    }\n\n    let num = toBN(amount);\n\n    let sendAmount = toBN(window.web3.utils.toWei(num.toFixed(), denom));\n    let baseFee = toBN(window.web3.utils.toWei(App.baseFeeEth, \"ether\"));\n\n    // TODO: make this global (or better, fetch it from the contract)\n    // TODO: are there issues with precision here?\n    let paymentFee = toBN(parseInt(sendAmount * App.paymentFeePercent));\n\n    let sendValue = sendAmount.plus(paymentFee).plus(baseFee);\n\n    // Create event\n    // TODO: pass in the newPayment to display info from it\n    let event = {\n      ts: Date.now(),\n      name: \"Create ETH payment\",\n      msgLines: [\"Created the raw transaction.\"],\n      loading: true,\n      statusText: \"Waiting for user to sign.\"\n    };\n\n    this.updateEvents(event, event.ts);\n\n    etherclearContractInstance\n      .createPayment(\n        // TODO: Is using toNumber safe?\n        sendAmount.toString(10),\n        recipient,\n        holdTime,\n        codeHash,\n        {\n          from: this.state.accounts[0],\n          gas: GAS,\n          value: sendValue.toString(10)\n        }\n      )\n      .on(\"transactionHash\", hash => {\n        this.updateEvent(\n          event,\n          event.ts,\n          this.displayHashWithLinkMsg(\"Received transaction hash:\", hash),\n          \"Waiting for transaction result\"\n        );\n      })\n      .then(result => {\n        console.log(\"Ether payment create success: \");\n        console.log(result);\n        this.updateEventForSuccess(\n          event,\n          event.ts,\n          \"Ether payment created successfully.\"\n        );\n        // TODO: search from the most recent timestamp and append. Maybe \"merge\"?\n        this.getPaymentEvents();\n      })\n      .catch(err => {\n        console.log(err);\n        this.updateEventForError(event, event.ts, err.toString());\n      });\n  };\n\n  // TODO: this only works on Ropsten, of course.\n  static ropstenTokenMap = {\n    BOKKY: {\n      name: \"BOKKY\",\n      addr: \"0x583cbBb8a8443B38aBcC0c956beCe47340ea1367\",\n      decimals: \"18\"\n    }\n  };\n\n  static paymentFeePercent = 0.005;\n  static baseFeeEth = \"0.001\";\n\n  // TODO: Think about better ways to organize the\n  // ERC-20 contract creation for multiple tokens.\n  // The balance could be saved for each token that is used,\n  // so that the old balance is displayed while the new\n  // one is being fetched.\n\n  // TODO: does this need events as well?\n  updateTokenBalance = async name => {\n    let tokenInfo = App.ropstenTokenMap[name];\n\n    // TODO: this should probably be accounted for beforehand.\n    if (this.state.accounts[0] === undefined) {\n      return 0;\n    }\n\n    if (name === \"ETH\") {\n      return window.web3.eth.getBalance(this.state.accounts[0]);\n    }\n\n    let tokenContractInstance;\n    let erc20 = contract(IERC20ContractDefinition);\n    // TODO: This depends on whether the provider is metamask.\n    if (window.ethereum !== undefined) {\n      erc20.setProvider(window.ethereum);\n    } else if (window.web3.currentProvider !== undefined) {\n      erc20.setProvider(window.web3.currentProvider);\n    } else {\n      console.log(\n        \"Could not obtain provider to initialize ERC-20 contract instance\"\n      );\n    }\n\n    return await erc20\n      .at(tokenInfo.addr)\n      .then(result => {\n        console.log(\"Got token contract result\");\n        tokenContractInstance = result;\n        // Get balance\n        return result.balanceOf(this.state.accounts[0], {\n          from: this.state.accounts[0],\n          gas: GAS\n        });\n      })\n      .then(balance => {\n        console.log(balance.toString());\n        return balance.toString();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  // TODO: still need to check balances and make sure the user has enough\n  // to spend the token.\n  // In this case denom is the token symbol.\n  createTokenPayment = async (amount, recipient, holdTime, codeHash, denom) => {\n    let tokenInfo = App.ropstenTokenMap[denom];\n    // Currently only supports Bokky Poo Bah test tokens\n    // TODO: Reuse the contract instance instead of fetching it\n    // each time.\n    let tokenContractInstance;\n\n    let sendAmount = toBN(amount).times(toBN(10).pow(tokenInfo.decimals));\n    let baseFee = toBN(window.web3.utils.toWei(App.baseFeeEth, \"ether\"));\n\n    let paymentFee = toBN(parseInt(sendAmount * App.paymentFeePercent));\n\n    // We need to send the original amount to the contract for it to calculate the\n    // fee with, but request approval to transfer the amount with the fee.\n    let amountWithFee = sendAmount.plus(paymentFee);\n\n    // TODO: don't need to do this twice (already do it to get the balance).\n    let erc20 = contract(IERC20ContractDefinition);\n    // TODO: Use of window.ethereum depends on whether the provider is metamask.\n    // Maybe just check if window.ethereum is provided?\n    if (window.ethereum !== undefined) {\n      erc20.setProvider(window.ethereum);\n    } else if (window.web3.currentProvider !== undefined) {\n      erc20.setProvider(window.web3.currentProvider);\n    } else {\n      console.log(\n        \"Could not obtain provider to initialize ERC-20 contract instance\"\n      );\n    }\n\n    // TODO: pass in the newPayment to display info from it\n    let event = {\n      ts: Date.now(),\n      name: \"Create \" + denom + \" payment\",\n      msgLines: [\"Created the raw transaction.\"],\n      loading: true,\n      statusText: \"Waiting for user to sign first transaction\"\n    };\n\n    this.updateEvents(event, event.ts);\n    /*\n    erc20\n      .at(tokenInfo.addr)\n      .then(result => {\n        console.log(\"Got token contract result\");\n        tokenContractInstance = result;\n        */\n    // Make approval\n    // TODO: implement batch transactions once the issue\n    // with ordering is resolved, otherwise the user has to\n    // click through to the approve transaction first and could get the order\n    // mixed up.\n    // https://github.com/MetaMask/metamask-extension/issues/5852\n    /*\n              let batch = new window.web3.BatchRequest();\n              batch.add(etherclearContractInstance.createTokenPayment(\n                  tokenInfo.addr,\n                  sendAmount.toString(10),\n                  recipient,\n                  holdTime,\n                  codeHash,\n                  {\n                      from: this.state.accounts[0],\n                      gas: GAS,\n                      value: baseFee.toString(10),\n                  }));\n              batch.add(result.approve(etherclearContractDefinition.networks[ROPSTEN].address, sendAmount.toString(10),\n                  {\n                      from: this.state.accounts[0],\n                      gas: GAS,\n                  }));\n              return batch.execute();\n              */\n\n    let result = await erc20.at(tokenInfo.addr);\n    result\n      .approve(\n        etherclearContractDefinition.networks[ROPSTEN].address,\n        amountWithFee.toString(10),\n        {\n          from: this.state.accounts[0],\n          gas: GAS\n        }\n      )\n      .on(\"transactionHash\", hash => {\n        this.updateEvent(\n          event,\n          event.ts,\n          this.displayHashWithLinkMsg(\"Received transaction hash:\", hash),\n          \"Waiting for user to sign second transaction\"\n        );\n\n          // TODO: Either batch these or refactor to make\n          // the calls cleaner.\n          etherclearContractInstance\n              .createTokenPayment(\n                  tokenInfo.addr,\n                  sendAmount.toString(10),\n                  recipient,\n                  holdTime,\n                  codeHash,\n                  {\n                      from: this.state.accounts[0],\n                      gas: GAS,\n                      value: baseFee.toString(10)\n                  }\n              )\n              .on(\"transactionHash\", hash => {\n                  this.updateEvent(\n                      event,\n                      event.ts,\n                      this.displayHashWithLinkMsg(\"Received transaction hash:\", hash),\n                      \"Waiting for transaction result\"\n                  );\n              })\n              .then(result => {\n                  this.updateEventForSuccess(\n                      event,\n                      event.ts,\n                      \"Token payment created successfully.\"\n                  );\n                  this.getPaymentEvents();\n              })\n              .catch(error => {\n                  console.log(error);\n                  this.updateEventForError(event, event.ts, error.toString());\n              });\n\n      })\n      .then(approval => {\n        console.log(\"Got token transfer approval\");\n          this.updateEventForSuccess(\n              event,\n              event.ts,\n              \"Got token transfer approval.\"\n          );\n      })\n      .catch(error => {\n        console.log(error);\n        this.updateEventForError(event, event.ts, error.toString());\n      });\n  };\n\n  retrieveFunds = (txnId, code) => {\n    let event = {\n      ts: Date.now(),\n      name: \"Retrieve funds\",\n      msgLines: [\"Created the raw transaction.\"],\n      loading: true,\n      statusText: \"Waiting for user to sign\"\n    };\n\n    this.updateEvents(event, event.ts);\n\n    etherclearContractInstance\n      .retrieveFundsAsRecipient(txnId, code, {\n        from: this.state.accounts[0],\n        gas: GAS\n      })\n      .on(\"transactionHash\", hash => {\n        this.updateEvent(\n          event,\n          event.ts,\n          this.displayHashWithLinkMsg(\"Received transaction hash:\", hash),\n          \"Waiting for transaction result\"\n        );\n      })\n      .then(result => {\n        console.log(\"Retrieve funds success: \");\n        console.log(result);\n        this.updateEventForSuccess(\n          event,\n          event.ts,\n          \"Funds successfully retrieved\"\n        );\n\n        // Refresh payments.\n        // TODO: search from the most recent timestamp and append.\n        this.getPaymentEvents();\n      })\n      .catch(error => {\n        this.updateEventForError(event, event.ts, error.toString());\n      });\n  };\n\n  retrieveFundsFeeless = async (txnId, code, sender) => {\n    var sigUtil = require(\"eth-sig-util\");\n    var ethUtil = require(\"ethereumjs-util\");\n\n    // Taken from example at https://github.com/danfinlay/js-eth-personal-sign-examples\n    let recipient = window.web3.utils.toChecksumAddress(this.state.accounts[0]);\n    console.log(\"recipient is: \" + recipient);\n\n    let msgParams = JSON.stringify({\n      types: {\n        EIP712Domain: [\n          { name: \"name\", type: \"string\" },\n          { name: \"version\", type: \"string\" },\n          { name: \"chainId\", type: \"uint256\" },\n          { name: \"verifyingContract\", type: \"address\" },\n          { name: \"salt\", type: \"bytes32\" }\n        ],\n        RetrieveFundsRequest: [\n          { name: \"txnId\", type: \"uint256\" },\n          { name: \"sender\", type: \"address\" },\n          { name: \"recipient\", type: \"address\" },\n          { name: \"passphrase\", type: \"string\" }\n        ]\n      },\n      primaryType: \"RetrieveFundsRequest\",\n      domain: {\n        name: \"EtherClear\",\n        version: \"1\",\n        chainId: 3,\n        verifyingContract: \"0x1C56346CD2A2Bf3202F771f50d3D14a367B48070\",\n        salt:\n          \"0xf2d857f4a3edcb9b78b4d503bfe733db1e3f6cdc2b7971ee739626c97e86a558\"\n      },\n      message: {\n        txnId: txnId,\n        sender: sender,\n        recipient: recipient,\n        passphrase: code\n      }\n    });\n\n    console.log(\n      \"CLICKED, SENDING PERSONAL SIGN REQ\",\n      \"from\",\n      recipient,\n      msgParams\n    );\n\n    var params = [recipient, msgParams];\n    console.dir(params);\n    var method = \"eth_signTypedData_v3\";\n\n    let event = {\n      ts: Date.now(),\n      name: \"Retrieve funds (feeless)\",\n      msgLines: [\"Created the raw signed message.\"],\n      loading: true,\n      statusText: \"Waiting for user to sign\"\n    };\n\n    this.updateEvents(event, event.ts);\n\n    window.web3.currentProvider.sendAsync(\n      {\n        method,\n        params,\n        recipient\n      },\n      (err, result) => {\n        if (err) return console.dir(err);\n        if (result.error) {\n          this.updateEventForError(event, event.ts, result.error);\n        }\n        if (result.error) return console.error(\"ERROR\", result);\n        console.log(\"TYPED SIGNED:\" + JSON.stringify(result.result));\n\n        const recovered = sigUtil.recoverTypedSignature({\n          data: JSON.parse(msgParams),\n          sig: result.result\n        });\n\n        if (\n          ethUtil.toChecksumAddress(recovered) ===\n          ethUtil.toChecksumAddress(recipient)\n        ) {\n          let msgLine =\n            \"Successfully ecRecovered signer as \" +\n            recipient +\n            \". Submitting to the relayer service.\";\n          this.updateEvent(event, event.ts, msgLine, \"Submitting to relayer\");\n        } else {\n          let errMsg =\n            \"Failed to verify signer when comparing \" +\n            result +\n            \" to \" +\n            recipient;\n          this.updateEventForError(event, event.ts, errMsg);\n\n          this.updateEvents(event, event.ts);\n        }\n\n        // TODO: remove once api-config usage is tested.\n        /*\n        let localEndpoint = \"http://localhost:8080/tx\";\n        let relayerEndpoint =\n          \"https://prod-dot-relayer-dot-etherclear.appspot.com/tx\";\n          */\n\n        let relayerEndpoint = API_ROOT + \"tx\";\n\n        fetch(relayerEndpoint, {\n          method: \"POST\",\n          mode: \"cors\",\n          headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            // TODO: this needs to be more restrictive.\n            \"Access-Control-Allow-Origin\": \"*\"\n          },\n          body: JSON.stringify({\n            msg: msgParams,\n            from: recipient,\n            sig: result.result\n          })\n        })\n          .then(response => {\n            let json = response.json();\n            this.updateEvent(\n              event,\n              event.ts,\n              \"Got server response.\",\n              \"Processing response\"\n            );\n            return json;\n          })\n          .then(async json => {\n            console.log(\"Parsed response JSON: \", JSON.stringify(json));\n            if (json.err !== undefined) {\n              this.updateEventForError(\n                event,\n                event.ts,\n                JSON.stringify(json.err)\n              );\n            } else if (json.res !== undefined) {\n              let receipt = null;\n\n              this.updateEvent(\n                event,\n                event.ts,\n                this.displayHashWithLinkMsg(\n                  \"Server submitted transaction. Polling the chain for transaction:\",\n                  json.res\n                ),\n                \"Waiting for transaction result\"\n              );\n\n              while (receipt === null) {\n                await sleep(5000);\n                receipt = await window.web3.eth.getTransactionReceipt(json.res);\n                console.log(\"Current receipt is: \" + receipt);\n                console.log(\"Checking for transaction receipt...\");\n              }\n              if (receipt.status === false) {\n                console.log(\"Transaction failed.\");\n                this.updateEventForError(\n                  event,\n                  event.ts,\n                  \"Transaction failed.\"\n                );\n\n                this.updateEvents(event, event.ts);\n              } else if (receipt.status === true) {\n                console.log(\"Transaction succeeded!\");\n                this.updateEventForSuccess(\n                  event,\n                  event.ts,\n                  \"Transaction succeeded\"\n                );\n\n                this.getPaymentEvents();\n              }\n            } else {\n              this.updateEventForError(\n                event,\n                event.ts,\n                \"No result was set in the response.\"\n              );\n            }\n          })\n          .catch(ex => {\n            console.log(\"parsing failed\", ex);\n            this.updateEventForError(\n              event,\n              event.ts,\n              \"Parsing response failed: \" + ex\n            );\n          });\n\n        // TODO: remove once signature debugging is complete.\n        //let sig = result.result;\n        //let msg = JSON.parse(msgParams).message;\n        //this.props.checkRetrieveSignature(msg, sig);\n      }\n    );\n  };\n\n  cancelPayment = txnId => {\n    let event = {\n      ts: Date.now(),\n      name: \"Cancel payment\",\n      msgLines: [\"Created the raw transaction.\"],\n      loading: true,\n      statusText: \"Waiting for user to sign\"\n    };\n\n    this.updateEvents(event, event.ts);\n\n\n    etherclearContractInstance\n      .cancelPayment(txnId, {\n        from: this.state.accounts[0],\n        gas: GAS\n      })\n      .on(\"transactionHash\", hash => {\n        this.updateEvent(\n          event,\n\n          event.ts,\n          this.displayHashWithLinkMsg(\"Received transaction hash:\", hash),\n          \"Waiting for transaction result\"\n        );\n      })\n      .then(result => {\n        console.log(\"Cancel payment success: \");\n        console.log(result);\n        this.updateEventForSuccess(event, event.ts, \"Cancel payment success.\");\n        // Refresh payments.\n        // TODO: search from the most recent timestamp and append.\n        this.getPaymentEvents();\n      })\n      .catch(err => {\n        console.log(err);\n        this.updateEventForError(event, event.ts, err.toString());\n      });\n  };\n\n  // TODO: try/catch and throw an error on bad input.\n  precise = (x, num) => {\n    return Number.parseFloat(x).toPrecision(num);\n  };\n\n  getBlocksPerDay = async () => {\n    let currBlock = await infuraWeb3.eth.getBlock(\"latest\");\n    // Average the past 50000 blocks\n    // TODO: this number is arbitrary.\n    let window = 50000;\n    let fromBlock = await infuraWeb3.eth.getBlock(currBlock.number - window);\n    let diffSecs = currBlock.timestamp - fromBlock.timestamp;\n\n    let numDays = diffSecs / (60 * 60 * 24);\n    return parseInt(window / numDays);\n  };\n\n  getPaymentEvents = async () => {\n    // TODO: check valid daysInput here as well?\n    return this.getRecentPaymentEvents(parseInt(this.state.daysInput));\n  };\n\n  // TODO: should there be app events for this to let the user know these are loading?\n  // numDays is the number of days (approximately) that\n  // in the past to filter for payments.\n  getRecentPaymentEvents = async numDays => {\n    // txnId -> txn object.\n    let paymentMap = {};\n\n    // TODO: This may slow things down. Also FYI, it has side effects\n    // that change state.\n    let currBlock = await this.getCurrTimestamp();\n    let fromBlock;\n\n    if (numDays === \"max\") {\n      fromBlock = 0;\n    } else {\n      let perDay = await this.getBlocksPerDay();\n      // TODO: will need to validate numdays beforehand\n      let numBlocks = parseInt(numDays) * perDay;\n      if (numBlocks > currBlock.number) {\n        fromBlock = 0;\n      } else {\n        fromBlock = currBlock.number - numBlocks;\n      }\n    }\n\n    /*\n      1. Get seconds per block.\n      2. numBlocks = (days * 24 * 60 * 60) / (secsPerBlock)\n      3. Use currBlock.number - numBlocks as start.\n       */\n\n    // TODO: This is a little hacky. We want to reset the menu indices every\n    // time the payment list changes, but this may not be the place to\n    // do it if there are other places we're updating that list.\n\n    // TODO: fix the filters here. This is a hack, you can't read all of the events.\n    etherclearContractInstance\n      .getPastEvents(\"allEvents\", {\n        // _from: this.state.allAccounts[0].Address,\n        filter: {\n          sender: this.state.accounts[0],\n          recipient: this.state.accounts[0]\n        },\n        fromBlock: fromBlock,\n        toBlock: \"latest\"\n      })\n      .then(async result => {\n        // TODO: hack, we're relying on the fact that\n        // there are only two types of events to merge\n        // these without caring about the order.\n        for (let i = 0; i < result.length; i++) {\n          let entry = result[i];\n          let txn = entry.returnValues;\n          let type = entry.event;\n\n          if (\n            !(\n              this.state.accounts[0] === txn.recipient ||\n              this.state.accounts[0] === txn.sender\n            )\n          ) {\n            continue;\n          }\n\n          let recipientName = txn.recipient;\n          let senderName = txn.sender;\n\n          // TODO: someone could pass a timestamp that's greater than 53 bits. You should just deal with timestamps as BNs and convert on display.\n          // TODO: we don't assume any order here, which may make things unnecessarily complicated.\n          if (type === \"PaymentOpened\") {\n            if (txn.txnId in paymentMap) {\n              // TODO: we don't need to do anything here\n              // now that the PaymentClosed event\n              // contains all necessary payment information\n              let copy = paymentMap[txn.txnId];\n              copy.holdTime = parseInt(toBN(txn.holdTime).toFixed(10));\n              copy.paymentOpenTime = parseInt(toBN(txn.openTime).toFixed());\n              copy.token = txn.token;\n              copy.sendAmount = parseInt(toBN(txn.sendAmount).toFixed());\n              copy.sender = senderName;\n              copy.recipient = recipientName;\n              copy.codeHash = txn.codeHash;\n              copy.openHash = entry.transactionHash;\n              paymentMap[txn.txnId] = copy;\n            } else {\n              let payment = {\n                paymentId: txn.txnId,\n                holdTime: parseInt(toBN(txn.holdTime).toFixed()),\n                paymentOpenTime: parseInt(toBN(txn.openTime).toFixed(10)),\n                //paymentCloseTime: txn.closeTime.toNumber(),\n                token: txn.token,\n                sendAmount: toBN(txn.sendAmount).toFixed(),\n                sender: senderName,\n                recipient: recipientName,\n                codeHash: txn.codeHash,\n                openHash: entry.transactionHash,\n                // PaymentState.OPEN\n                state: 0\n              };\n              paymentMap[txn.txnId] = payment;\n            }\n          } else if (type === \"PaymentClosed\") {\n            if (txn.txnId in paymentMap) {\n              // Just take the fields we need.\n              let copy = paymentMap[txn.txnId];\n              copy.state = txn.state;\n              copy.paymentCloseTime = txn.closeTime;\n              copy.closeHash = entry.transactionHash;\n              paymentMap[txn.txnId] = copy;\n            } else {\n              let payment = {\n                paymentId: txn.txnId,\n                holdTime: txn.holdTime.toNumber(),\n                paymentOpenTime: txn.openTime.toNumber(),\n                paymentCloseTime: parseInt(toBN(txn.closeTime).toFixed()),\n                token: txn.token,\n                sendAmount: txn.sendAmount.toNumber(),\n                sender: senderName,\n                recipient: recipientName,\n                codeHash: txn.codeHash,\n                closeHash: entry.transactionHash,\n                state: toBN(txn.state).toNumber()\n              };\n              paymentMap[txn.txnId] = payment;\n            }\n          }\n        }\n        let allPayments = Object.keys(paymentMap).map(function(key) {\n          return paymentMap[key];\n        });\n\n        this.setState({ allPayments });\n      })\n      .catch(err => {\n        console.log(err);\n        console.log(err.message);\n      });\n  };\n\n  getPayments = async () => {\n    this.getPaymentEvents();\n  };\n\n  /*\n      struct Payment {\n        // timestamps are in epoch milliseconds\n        uint holdTime;\n        uint paymentOpenTime;\n        uint paymentCloseTime;\n\n\n        uint sendAmount;\n        address payable sender;\n        address payable recipient;\n        bytes codeHash;\n\n        PaymentState state;\n    }\n   */\n\n  componentDidMount() {\n    //this.setState({ mmState: \"NOT_LOGGED_IN (please complete login)\" });\n    this.loadWeb3();\n  }\n\n  // TODO: clean up this method. this.mmState is\n  // not currently used.\n  loadWeb3 = async () => {\n    var providerAvailable = false;\n    var network = \"None\";\n    let accounts;\n\n    // Modern dapp browsers...\n    if (window.ethereum) {\n      // TODO: this is probably metamask specific and others may be window.web3.currentProvider\n      window.web3 = new Web3(window.ethereum);\n      // TODO: handle network changes in non-ethereum (legacy) provider.\n      window.ethereum.on(\"accountsChanged\", accounts => {\n        this.setState({ accounts: accounts });\n        // Can only do this after etherclearContractInstance is defined\n        // TODO: don't need to do all of this.\n        this.registerRopstenContractInstance();\n      });\n\n      // TODO: respond to this.\n      window.ethereum.on(\"networkChanged\", netId => {\n        // Time to reload your interface with netId\n      });\n\n      providerAvailable =\n        window.ethereum.isMetaMask || this.getCurrentProvider() === \"metamask\";\n      // Do an update now since we need to request account access.\n      //this.setState({ metamaskInstalled: providerAvailable });\n      try {\n        // Request account access if needed\n        // TODO: if the user just exits here, it doesn't throw an error.\n        accounts = await window.ethereum.enable();\n        console.log(\"Connected to account: \" + accounts[0]);\n        this.mmState = \"Connected\";\n\n        network = await this.logNetworkModern();\n        if (network === \"ropsten\") {\n          this.getCurrTimestamp();\n        }\n      } catch (error) {\n        // User denied account access...\n        console.log(error);\n        this.mmState = \"USER ACCESS DENIED: Got an error: \" + error;\n      }\n    }\n    // Legacy dapp browsers...\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n      providerAvailable = this.getCurrentProvider() !== \"unknown\";\n      console.log(\n        \"Found legacy browser, provider is: \" + this.getCurrentProvider()\n      );\n      // Do an update now since we need to request account access.\n      //this.setState({ metamaskInstalled: providerAvailable });\n      // Acccounts always exposed\n      this.mmState = \"OK: Found legacy Dapp browser.\";\n      // TODO: test if you need to log in a different manner here with web3.version.getNetwork();\n      /*\n                window.web3.eth.sendTransaction({\n\n                });\n                */\n      network = await this.logNetworkModern();\n\n      if (network === \"ropsten\") {\n        this.getCurrTimestamp();\n      }\n    }\n    // Non-dapp browsers...\n    else {\n      this.mmState = \"NO_SUPPORT\";\n      let msg =\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\";\n      console.log(msg);\n      this.mmState = \"NO_SUPPORT: \" + msg;\n    }\n\n    console.log(\"Metamask installed: \" + providerAvailable);\n    console.log(\"network: \" + network);\n    if (providerAvailable) {\n      // TODO: this does a setState() for allAccounts and gets the contract instance, make it more clear.\n      // TODO: We assume here that the network is not private.\n      if (network === \"ropsten\") {\n        this.fetchWeb3Accounts();\n      }\n    }\n\n    this.setState({\n      mmState: this.mmState,\n      metamaskInstalled: providerAvailable,\n      accounts: accounts\n    });\n  };\n\n  // Should ONLY be called if installed is true.\n  fetchWeb3Accounts = () => {\n    window.web3.eth.getAccounts(this.setWeb3AccountsIfMetamaskUnlocked);\n  };\n\n  getContractInfo = network => {\n    let noContract = [\n      {\n        prefix: \"No\",\n        name: \"N/A\",\n        address: \"N/A\"\n      }\n    ];\n\n    if (network === \"ropsten\") {\n      return [\n        {\n          prefix: \"Ropsten\",\n          name: \"version_1.0\",\n          address: etherclearContractDefinition.networks[ROPSTEN].address\n        }\n      ];\n    } else {\n      return noContract;\n    }\n  };\n\n  setWeb3AccountsIfMetamaskUnlocked = (err, accounts) => {\n    this.addAccounts(err, accounts);\n    // TODO: This is not strictly necessary if we are using the window callback.\n    this.registerRopstenContractInstance();\n\n    return true;\n  };\n\n  addAccounts = (err, accounts) => {\n    if (err != null && err !== false) {\n      console.log(err);\n      return false;\n    } else if (accounts.length === 0) {\n      console.log(\"MetaMask is locked\");\n      return false;\n    } else {\n      console.log(\"MetaMask is unlocked: \" + accounts);\n      let allAccounts = [];\n      for (var i = 0; i < accounts.length; i++) {\n        // TODO: don't hard code Metamask as provider name.\n        allAccounts.push({ Type: \"Metamask\", Address: accounts[i] });\n      }\n      this.setState({\n        metamaskUnlocked: true,\n        allAccounts: allAccounts,\n        accounts: accounts\n      });\n    }\n  };\n\n  // This will set the contract instance in the state, and automatically retrieve the last check in and secrets.\n  async registerRopstenContractInstance() {\n    // https://github.com/trufflesuite/truffle-contract#full-example\n    var contractAddr2 = etherclearContractDefinition.networks[ROPSTEN].address;\n    console.log(\"Using Etherclear contract address: \" + contractAddr2);\n    var instance2;\n    var Etherclear = contract(etherclearContractDefinition);\n    // TODO: should this be window.web3.currentProvider?\n    // Should check if metamask is installed for window.ethereum\n    console.log(window.web3.currentProvider);\n    // TODO: make a better check\n    if (window.ethereum !== undefined) {\n      Etherclear.setProvider(window.ethereum);\n    } else if (window.web3.currentProvider !== undefined) {\n      Etherclear.setProvider(window.web3.currentProvider);\n    } else {\n      console.log(\"Could not obtain provider for Etherclear contract instance\");\n    }\n\n    // add snackbar for \"please complete metamask transaction\"?\n    // Could use deployed() as well.\n    // Get contract instance and last check in time.\n\n    Etherclear.at(contractAddr2)\n      .then(result => {\n        instance2 = result;\n        etherclearContractInstance = result;\n\n        console.log(\"Instance addr: \" + instance2.address);\n        //this.setState({secretKeeperContract: instance2});\n        console.log(this.state.accounts);\n\n        this.getPaymentEvents();\n      })\n      /*\n            .then(result => {\n                console.log(\"Result for transactions: \" + JSON.stringify(result));\n                /*\n                let intTs = parseInt(result);\n                let ts = new Date(intTs * 1000);\n                this.setState({\n                    lastCheckIn: intTs === 0 ? \"None\" : ts.toLocaleString()\n                });\n                */\n      //        })\n\n      .catch(err => {\n        console.log(\n          \"Error for getting initial Etherclear contract instance: \" +\n            err.toString()\n        );\n        //this.setState({ checkInErrMsg: err.message });\n      });\n  }\n\n  // TODO: fix bug in original where getNetwork() isn't a function:\n  // https://github.com/MetaMask/faq/blob/master/DEVELOPERS.md\n  // See https://github.com/ethereum/web3.js/issues/1353\n  // Also, apparently this isn't a completely accurate method:\n  // https://web3js.readthedocs.io/en/1.0/web3-eth-net.html#getnetworktype\n  async logNetworkModern() {\n    let err,\n      network = await window.web3.eth.net.getNetworkType();\n    if (err !== undefined) {\n      console.log(JSON.stringify(err));\n    }\n    this.setState({\n      network: network,\n      allContracts: this.getContractInfo(network)\n    });\n    return network;\n  }\n\n  // https://timestamp.online/article/how-to-convert-timestamp-to-datetime-in-javascript\n  async getCurrTimestamp() {\n    let currBlock = await infuraWeb3.eth.getBlock(\"latest\");\n    // TODO: throw a better error if currBlock.timestamp doesn't exist, currBlock can be null!\n    if (currBlock === null || currBlock.timestamp === undefined) {\n      console.log(\"couldn't get current block timestamp\");\n      return;\n    }\n    let ts = new Date(currBlock.timestamp * 1000);\n    this.setState({\n      currTimestamp: ts.toLocaleString(),\n      currTs: currBlock.timestamp,\n      currBlock: currBlock\n    });\n    return currBlock;\n  }\n\n  // Taken from https://ethereum.stackexchange.com/questions/24266/elegant-way-to-detect-current-provider-int-web3-js\n  getCurrentProvider() {\n    if (!window.web3) return \"unknown\";\n\n    if (window.web3.currentProvider.host === \"metamask\") return \"metamask\";\n\n    if (window.web3.currentProvider.isTrust) return \"trust\";\n\n    if (window.web3.currentProvider.isGoWallet) return \"goWallet\";\n\n    if (window.web3.currentProvider.isAlphaWallet) return \"alphaWallet\";\n\n    if (window.web3.currentProvider.isStatus) return \"status\";\n\n    if (window.web3.currentProvider.isToshi) return \"coinbase\";\n\n    if (\n      typeof window.__CIPHER__ !== \"undefined\" ||\n      window.web3.currentProvider.isCipher\n    )\n      return \"cipher\";\n\n    if (window.web3.currentProvider.constructor.name === \"EthereumProvider\")\n      return \"mist\";\n\n    if (window.web3.currentProvider.constructor.name === \"Web3FrameProvider\")\n      return \"parity\";\n\n    if (\n      window.web3.currentProvider.host &&\n      window.web3.currentProvider.host.indexOf(\"infura\") !== -1\n    )\n      return \"infura\";\n\n    if (\n      window.web3.currentProvider.host &&\n      window.web3.currentProvider.host.indexOf(\"localhost\") !== -1\n    )\n      return \"localhost\";\n\n    return \"unknown\";\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: theme })(withRouter(App));\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Paper, Tabs, Tab, Badge } from \"@material-ui/core\";\nimport { withStyles, createMuiTheme } from '@material-ui/core/styles';\nimport PhoneIcon from \"@material-ui/icons/Phone\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport PersonPinIcon from \"@material-ui/icons/PersonPin\";\n\n\n// custom mui theme\nconst theme = createMuiTheme();\n\nconst styles = {\n  badgeStyles: {\n    color: 'white',\n  },\n}\nclass MobileNavBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0\n    };\n\n    this.tabClick = this.tabClick.bind(this);\n  }\n\n  // handles animation change on tabs\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  // handles redirects when tabs are clicked\n  // eslint-disable-next-line\n  tabClick = url => this.props.history.push(url);\n\n  render() {\n    // for counting notifications\n    // eslint-disable-next-line\n    const { appEvents, history, classes } = this.props;\n    // TODO: this code is not DRY, need to make count its own prop\n    // eslint-disable-next-line\n    const eventCount =\n      Object.keys(appEvents).length < 1 ? null : Object.keys(appEvents).length;\n\n    /* eslint-disable */\n    return (\n      <Paper square>\n        <Tabs\n          value={this.state.value}\n          onChange={this.handleChange}\n          variant=\"fullWidth\"\n          style={{ backgroundColor: \"#3b9eb5\", paddingTop: \"8px\" }}\n          indicatorColor=\"secondary\"\n          textColor={\"primary\"}\n        >\n          <Tab\n            style={{ color: \"white\", paddingTop: \"4px\" }}\n            label={\n              <Badge badgeContent={eventCount} color=\"secondary\" classes={{\n                badge: classes.badgeStyles,\n              }}>\n                <p style={{ marginTop: '4px', marginRight: '6px' }}>App Events</p>\n              </Badge>\n            }\n            onClick={() => this.tabClick(\"/app\")}\n          />\n          <Tab\n            style={{ color: \"white\" }}\n            label={\"My Payments\"}\n            onClick={() => this.tabClick(\"/app/payments\")}\n          />\n        </Tabs>\n      </Paper>\n    );\n    /** eslint-disable */\n  }\n}\n\nexport default withStyles(styles, { withTheme : theme })(withRouter(MobileNavBar));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withStyles, createMuiTheme } from '@material-ui/core/styles';\nimport {withTheme } from '@material-ui/styles'\nimport Button from '@material-ui/core/Button';\nimport ListIcon from '@material-ui/icons/List';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst theme = createMuiTheme();\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: '1px solid #d3d4d5',\n  },\n})(props => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center',\n    }}\n    {...props}\n  />\n));\n\n\nconst StyledMenuItem = withStyles(theme => ({\n  root: {\n    '&:focus': {\n      backgroundColor: '#d3d4d5',\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white,\n      },\n    },\n  },\n}))(MenuItem);\n\nconst CustomizedMenus = (props) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  // make sure there is no text decoration\n  const linkStyles = {\n    textDecoration: 'none',\n  };\n\n  return (\n    <div>\n      <Button\n        aria-owns={anchorEl ? 'simple-menu' : undefined}\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleClick}\n      >\n        <ListIcon />\n      </Button>\n      <StyledMenu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <StyledMenuItem>\n          <Link to=\"/\" style={linkStyles}>\n            <ListItemText primary=\"Home\" />\n          </Link>\n        </StyledMenuItem>\n        <StyledMenuItem>\n          <a href=\"https://etherclearapp.github.io/etherclear_docs/#/\" style={linkStyles} target={\"_blank\"}>\n            <ListItemText primary=\"What is Etherclear?\" />\n          </a>\n        </StyledMenuItem>\n        <StyledMenuItem>\n          <Link to=\"/\" style={linkStyles}>\n            <ListItemText primary=\"Settings\" />\n          </Link>\n        </StyledMenuItem>\n      </StyledMenu>\n    </div>\n  );\n}\n\nexport default withTheme((CustomizedMenus));\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport {\n  Grid,\n  TextField,\n  Tooltip,\n  IconButton,\n  Fab,\n} from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListIcon from '@material-ui/icons/List';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport MailIcon from '@material-ui/icons/Mail';\n\n\nconst MobileSideDrawer = (props) => {\n  const {\n    ROPSTEN,\n    contractDisplayName,\n    displayName,\n    addr,\n    noAddr,\n    etherclearContractInstance,\n    etherclearContractDefinition,\n  } = props;\n  const [state, setState] = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n\n  const toggleDrawer = (side, open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state, [side]: open });\n  };\n\n  // style for nav links\n  const linkStyles = {\n    textDecoration: 'none',\n  };\n\n  const sideList = side => (\n    <div\n      role=\"presentation\"\n      onClick={toggleDrawer(side, false)}\n      onKeyDown={toggleDrawer(side, false)}\n    >\n      <div>\n        { /* Mobile Header Goes in here */}\n\n        <div style={{ width: \"95%\" }}>\n          <Grid container direction=\"row\" justify=\"flex-start\"> \n            <Button color=\"primary\" onClick={toggleDrawer('left', false)}><ArrowBackIcon /></Button>\n          </Grid>\n          <div style={{ width: \"90%\", margin: \"auto\" }}>\n            <Grid container direction=\"row\" justify=\"center\">\n              <img src={require('./logo.svg')} alt=\"Etherclear\" style={{ width: '200px', marginTop: '32px', marginBottom: '24px' }} />\n            </Grid>\n            <Grid container direction=\"row\">\n              <div>\n                <div>\n                  <p\n                    style={{\n                      textAlign: \"left\",\n                      marginLeft: \"8px\",\n                      fontSize: \"1em\",\n                      marginBottom: \"0px\"\n                    }}\n                  >\n                    <a\n                      href={\n                        \"https://ropsten.etherscan.io/address/\" +\n                        etherclearContractDefinition\n                          .networks[ROPSTEN].address\n                      }\n                      target={\"_blank\"}\n                    >\n                      Contract:{\" \"}\n                    </a>\n                  </p>\n                  <TextField\n                    disabled\n                    style={{\n                      marginLeft: \"24px\",\n                      width: \"70%\",\n                      marginBottom: \"16px\"\n                    }}\n                    value={\n                      contractDisplayName === undefined\n                        ? \"\"\n                        : contractDisplayName\n                    }\n                  />\n                </div>\n                <div>\n                  <Grid container direction=\"row\">\n                    <p\n                      style={{\n                        textAlign: \"left\",\n                        marginLeft: \"8px\",\n                        fontSize: \"1em\",\n                        marginBottom: \"0px\"\n                      }}\n                    >\n                      My Address:\n                    </p>\n                    <TextField\n                      disabled\n                      style={{\n                        marginLeft: \"24px\",\n                        width: \"70%\",\n                        marginBottom: \"16px\"\n                      }}\n                      value={\n                        displayName === undefined\n                          ? \"\"\n                          : displayName\n                      }\n                    />\n                    <CopyToClipboard\n                      text={addr}\n                      disabled={\n                        addr === noAddr ||\n                        addr === undefined\n                      }\n                    >\n                      <Tooltip\n                        title={\"Copy address to clipboard\"}\n                      >\n                        <IconButton>\n                          <FileCopyIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </CopyToClipboard>\n                  </Grid>\n                </div>\n              </div>\n            </Grid>\n          </div>\n\n        </div>\n      </div>\n      <Divider />\n      <List>\n        <ListItem button >\n          <Link to=\"/\" style={linkStyles}>\n            <ListItemText primary=\"Home\" />\n          </Link>\n        </ListItem>\n        <ListItem button >\n          <Link to=\"/\" style={linkStyles}>\n            <ListItemText primary=\"Settings\" />\n          </Link>\n        </ListItem>\n        <ListItem button >\n          <a href=\"https://etherclearapp.github.io/etherclear_docs/#/\" style={linkStyles} target={\"_blank\"}>\n            <ListItemText primary=\"What is Etherclear?\" />\n          </a>\n        </ListItem>\n      </List>\n\n    </div>\n  );\n\n  return (\n    <div>\n      <Fab color=\"primary\" size=\"small\" onClick={toggleDrawer('left', true)}><ListIcon /></Fab>\n      <Drawer open={state.left} onClose={toggleDrawer('left', false)}>\n        {sideList('left')}\n      </Drawer>\n    </div>\n  );\n}\n\nexport default MobileSideDrawer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport { HashLink } from \"react-router-hash-link\";\nimport React from \"react\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport MessageIcon from \"@material-ui/icons/Message\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport {\n  VerticalTimeline,\n  VerticalTimelineElement\n} from \"react-vertical-timeline-component\";\nimport \"react-vertical-timeline-component/style.min.css\";\n// Taken from https://github.com/stephane-monnot/react-vertical-timeline/tree/master/docs\nimport \"./static/react-vertical-timeline-main.css\";\n\nconst HomeContent = props => ({ match }) => {\n  const { classes } = props;\n  return (\n    <div>\n      <main className={classes.layout}>\n        {/* Hero unit */}\n        <div className={classes.heroContent}>\n          <Typography\n            component=\"h1\"\n            variant=\"h2\"\n            align=\"center\"\n            color=\"textPrimary\"\n            gutterBottom\n          >\n            Safer P2P payments for Ethereum\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            Etherclear protects the sender of an ETH or ERC-20 token payment\n            from sending funds to the wrong address.\n            <br />\n          </Typography>\n          <div className={classes.heroButtons}>\n            <Grid container spacing={4} justify=\"center\">\n              <Grid item>\n                <HashLink\n                  to={\"/#why-use-eth-refund\"}\n                  style={{ textDecoration: \"none\", color: \"inherit\" }}\n                >\n                  <Button variant=\"contained\" color=\"primary\">\n                    Learn more\n                  </Button>\n                </HashLink>\n              </Grid>\n              <Grid item>\n                <Link\n                  to={\"/app\"}\n                  style={{ textDecoration: \"none\", color: \"inherit\" }}\n                >\n                  <Button variant=\"outlined\" color=\"primary\">\n                    Try the app\n                  </Button>\n                </Link>\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        {/* End hero unit */}\n        <Typography\n          variant=\"h6\"\n          align=\"left\"\n          color=\"textSecondary\"\n          component=\"p\"\n        >\n          Please be aware that the app and site are still in beta. Currently,\n          Etherclear is only available on the Ropsten testnet.\n          <br />\n          <br />\n          Etherclear currently supports the Metamask and Toshi (Coinbase)\n          wallets.\n        </Typography>\n        {/* Begin hero unit */}\n        <div className={classes.heroContent}>\n          <Typography\n            component=\"h1\"\n            variant=\"h2\"\n            align=\"center\"\n            color=\"textPrimary\"\n          >\n            <div id={\"why-use-eth-refund\"} />\n            Why use Etherclear?\n          </Typography>\n        </div>\n        <div>\n          <Typography\n            variant=\"h6\"\n            align=\"justify\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            Cryptocurrencies have revolutionized our ability to send large\n            amounts of money to the wrong place. Many people lose ETH and tokens\n            every day due to{\" \"}\n            <a\n              href=\"https://media.consensys.net/over-12-000-ether-are-lost-forever-due-to-typos-f6ccc35432f8\"\n              target={\"_blank\"}\n            >\n              typos\n            </a>{\" \"}\n            or pasting the wrong address entirely. It shouldn't be stressful to\n            send large amounts of cryptocurrency, especially for first time\n            users.\n            <br />\n            <br />\n            Etherclear helps you safely move large amounts of ETH and ERC-20\n            tokens between your own wallets, or to people you may have a secure\n            communication channel open with (family, friends, landlords,\n            coworkers, etc.).\n            <br />\n            <br />\n            It gives you a way to expose funds on Ethereum to a recipient, while\n            still retaining the option to cancel the payment and take the funds\n            back.\n          </Typography>\n        </div>\n        {/* End hero unit */}\n        {/* Begin hero unit */}\n        <div className={classes.heroContent}>\n          <Typography\n            component=\"h1\"\n            variant=\"h2\"\n            align=\"center\"\n            color=\"textPrimary\"\n            gutterBottom\n          >\n            How it works\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            align=\"justify\"\n            color=\"textSecondary\"\n            component=\"p\"\n          >\n            {\" \"}\n            Etherclear uses a smart contract, which can be found{\" \"}\n            <a\n              href={\"https://github.com/etherclearapp/etherclear_contracts\"}\n              target={\"_blank\"}\n            >\n              here\n            </a>\n            . In order for the recipient to retrieve any funds, the smart\n            contract requires them to enter a passphrase provided by the sender,\n            within a time window that is specified by the sender.\n            <br />\n            <br />\n            At any point before the recipient retrieves the funds, the sender\n            can cancel the payment and get their assets back.\n            <br />\n            <br />\n            Note that the current Etherclear implementation doesn't work for\n            sending funds to or from centralized exchanges, because exchanges\n            will not interact with this contract to withdraw funds or submit a\n            payment. If you send to an exchange address accidentally, you can\n            always recover the funds for the cost of gas by cancelling the\n            payment (that's the point of the dapp).\n            <br />\n            <br />\n            We hope that this won't be as much of a problem with decentralized\n            exchanges, since with these the user usually interacts with a\n            trusted contract address.\n          </Typography>\n        </div>\n        {/* End hero unit */}\n      </main>\n\n      <div style={{ background: \"#3c9eb5\" }}>\n        <VerticalTimeline>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(33, 150, 243)\", color: \"#fff\" }}\n            icon={<CreateIcon />}\n            position={\"left\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Sender creates payment.\n            </h3>\n\n            <p>A unique passphrase is generated for each payment.</p>\n            <br />\n            <p>\n              {\" \"}\n              Etherclear currently charges a 0.001 ETH fee for creating a\n              payment.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(33, 150, 243)\", color: \"#fff\" }}\n            icon={<MessageIcon />}\n            position={\"left\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Sender communicates passphrase to recipient.\n            </h3>\n\n            <p>\n              Ideally, this should be done through an encrypted chat or email\n              service such as{\" \"}\n              <a href=\"https://www.whatsapp.com/\" target={\"_blank\"}>\n                WhatsApp\n              </a>\n              ,{\" \"}\n              <a href=\"https://protonmail.com/\" target={\"_blank\"}>\n                ProtonMail\n              </a>\n              ,{\" \"}\n              <a href=\"https://signal.org/\" target={\"_blank\"}>\n                Signal\n              </a>\n              , or{\" \"}\n              <a href=\"https://keybase.io/\" target={\"_blank\"}>\n                Keybase\n              </a>\n              .\n              <br />\n              <br />\n              If you are using a service like Facebook Messenger or Telegram,\n              make sure you have end-to-end encryption turned on.\n            </p>\n          </VerticalTimelineElement>\n          <VerticalTimelineElement\n            className=\"vertical-timeline-element--work\"\n            iconStyle={{ background: \"rgb(0, 204, 0)\", color: \"#fff\" }}\n            icon={<CheckCircleIcon />}\n            position={\"right\"}\n          >\n            <h3 className=\"vertical-timeline-element-title\">\n              Recipient enters passphrase and completes payment.\n            </h3>\n            <p>\n              To retrieve funds with Etherclear, the recipient uses feeless\n              retrieval for free, or makes a contract call and pays a gas fee.\n              <br />\n              <br />\n              This action can only be done in a time window specified by the\n              sender.\n            </p>\n          </VerticalTimelineElement>\n        </VerticalTimeline>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeContent;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst FAQContent = props => ({ match }) => {\n  const { classes } = props;\n  return (\n    <div>\n      <Typography\n        variant=\"h6\"\n        align=\"center\"\n        color=\"textSecondary\"\n        component=\"p\"\n        style={{ paddingTop: \"50px\" }}\n      >\n        There's nothing here right now,{\" \"}\n        <a\n          href={\"https://github.com/etherclearapp/etherclear_frontend/issues\"}\n          style={{ color: \"inherit\" }}\n        >\n          {\" \"}\n          ask some questions!\n        </a>\n      </Typography>\n    </div>\n  );\n};\n\nexport default FAQContent;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport HomeContent from \"./HomeContent\";\nimport FAQContent from \"./FAQContent\";\nimport { Route } from \"react-router-dom\";\nimport { Switch } from \"react-router\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport createPalette from \"@material-ui/core/styles/createPalette\";\n\n// TODO: switch back to this once it's stable.\nimport { unstable_useMediaQuery as useMediaQuery } from \"@material-ui/core/useMediaQuery\";\nimport MediaQuery from \"react-responsive\";\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport purple from \"@material-ui/core/colors/purple\";\n\nconst theme = createMuiTheme({\n  palette: createPalette({\n    primary: {\n      light: \"#757ce8\",\n      main: \"#3c9eb5\",\n      dark: \"#506184\",\n      contrastText: \"#fff\"\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\"\n    }\n  }),\n  typography: {\n    useNextVariants: true\n  }\n});\n\nconst styles = theme => ({\n  \"@global\": {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  appBar: {\n    position: \"relative\",\n    width: \"100%\",\n    backgroundColor: \"#3c9eb5\"\n  },\n  toolbarTitle: {\n    flex: 1\n  },\n  layout: {\n    width: \"auto\",\n    marginLeft: theme.spacing(3),\n    marginRight: theme.spacing(3),\n    [theme.breakpoints.up(900 + theme.spacing(3 * 2))]: {\n      width: 900,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  heroContent: {\n    maxWidth: 800,\n    margin: \"0 auto\",\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`\n  },\n  heroButtons: {\n    marginTop: theme.spacing(4)\n  },\n  footer: {\n    marginTop: theme.spacing(8),\n    borderTop: `1px solid ${theme.palette.divider}`,\n    padding: `${theme.spacing(6)}px 0`\n  },\n  icon: {\n    marginRight: theme.spacing(2)\n  }\n});\n\nconst footers = [\n  {\n    title: \"Company\",\n    description: [\"About\"]\n  },\n  {\n    title: \"Contact\",\n    description: [\n      <a\n        href={\"https://github.com/etherclearapp/etherclear_frontend/issues\"}\n        style={{ color: \"inherit\" }}\n        target={\"_blank\"}\n      >\n        Github Issues\n      </a>\n    ]\n  },\n  {\n    title: \"Resources\",\n    description: [\n      <a\n        href={\n          \"https://docs.google.com/document/d/1UEobbwmL78Yhy6vjY4yGEdYThFIiHOieujM5TfM1dp4/edit?usp=sharing\"\n        }\n        style={{ color: \"inherit\" }}\n        target={\"_blank\"}\n      >\n        Guide\n      </a>,\n      <Link to={\"/faq\"} style={{ color: \"inherit\" }}>\n        FAQ\n      </Link>,\n      <a href=\"https://github.com/etherclearapp\" style={{ color: \"inherit\" }}>\n        Github repo\n      </a>\n    ]\n  },\n  {\n    title: \"Legal\",\n    description: [\"Disclaimer\", \"Terms of use\"]\n  }\n];\n\n// The Homepage is the main page for the site, and uses a different\n// (and simpler) menu.\nclass Homepage extends React.Component {\n  state = {\n    anchorEl: null\n  };\n\n  handleMenuIconClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleMenuIconClose = event => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes } = this.props;\n    // This means the user is on a mobile device.\n    const { anchorEl } = this.state;\n    //const displayMenuIcon = useMediaQuery(\"(max-device-width: 1224px)\");\n\n    const renderMenuIconMenu = () => {\n      return (\n        <React.Fragment>\n          <Button onClick={this.handleMenuIconClick}>\n            <MenuIcon\n              aria-owns={anchorEl ? \"simple-menu\" : undefined}\n              aria-haspopup=\"true\"\n            />\n          </Button>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={this.handleMenuIconClose}\n          >\n            <MenuItem onClick={this.handleMenuIconClose}>\n              <Link\n                to={\"/\"}\n                style={{\n                  textDecoration: \"none\",\n                  color: \"inherit\"\n                }}\n              >\n                Home\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={this.handleMenuIconClose}>\n              <a\n                href={\n                  \"https://docs.google.com/document/d/1UEobbwmL78Yhy6vjY4yGEdYThFIiHOieujM5TfM1dp4/edit?usp=sharing\"\n                }\n                style={{ textDecoration: \"none\", color: \"inherit\" }}\n                target={\"_blank\"}\n              >\n                Guide\n              </a>\n            </MenuItem>\n            <MenuItem>\n              <Link\n                to={\"/faq\"}\n                style={{ textDecoration: \"none\", color: \"inherit\" }}\n              >\n                FAQ\n              </Link>\n            </MenuItem>\n            <MenuItem>\n              <Link\n                to={\"/app\"}\n                style={{ color: \"#506184\", textDecoration: \"none\" }}\n              >\n                App\n              </Link>\n            </MenuItem>\n          </Menu>\n        </React.Fragment>\n      );\n    };\n\n    const buttonTheme = createMuiTheme({\n      palette: createPalette({\n        primary: {\n          light: \"#757ce8\",\n          main: \"#b3fffd\",\n          dark: \"#506184\",\n          contrastText: \"#fff\"\n        }\n      })\n    });\n\n    const renderRegularMenu = () => {\n      return (\n        <React.Fragment>\n          <Link to={\"/\"} style={{ textDecoration: \"none\", color: \"#fff\" }}>\n            <Button>\n              <div style={{ color: \"#fff\" }}>Home</div>\n            </Button>\n          </Link>\n          <a\n            href={\n              \"https://docs.google.com/document/d/1UEobbwmL78Yhy6vjY4yGEdYThFIiHOieujM5TfM1dp4/edit?usp=sharing\"\n            }\n            style={{ textDecoration: \"none\", color: \"inherit\" }}\n            target={\"_blank\"}\n          >\n            <Button>\n              <div style={{ color: \"#fff\" }}>Guide</div>\n            </Button>\n          </a>\n          <Link to={\"/faq\"} style={{ textDecoration: \"none\" }}>\n            <Button>\n              <div style={{ color: \"#fff\" }}>FAQ</div>\n            </Button>\n          </Link>\n          <MuiThemeProvider theme={buttonTheme}>\n            <Link to={\"/app\"} style={{ textDecoration: \"none\" }}>\n              <Button color=\"primary\" variant=\"outlined\">\n                App\n              </Button>\n            </Link>\n          </MuiThemeProvider>\n        </React.Fragment>\n      );\n    };\n\n    // See media query examples at https://github.com/contra/react-responsive\n    return (\n      <MuiThemeProvider theme={theme}>\n        <React.Fragment>\n          <CssBaseline />\n          <AppBar position=\"static\" color=\"default\" className={classes.appBar}>\n            <Toolbar>\n              <Link\n                className={classes.toolbarTitle}\n                to={\"/\"}\n                style={{ textDecoration: \"none\", color: \"inherit\" }}\n              >\n                <img src={require(\"./text-logo.png\")} alt=\"Home\" />\n              </Link>\n\n              <MediaQuery query=\"(max-width: 1224px), (max-device-width: 1224px)\">\n                {renderMenuIconMenu()}\n              </MediaQuery>\n              <MediaQuery query=\"(min-device-width: 1224px) and (min-width: 1224px)\">\n                {renderRegularMenu()}\n              </MediaQuery>\n            </Toolbar>\n          </AppBar>\n          <Switch>\n            <Route exact path=\"/\" component={HomeContent(this.props)} />\n            <Route path=\"/faq\" component={FAQContent(this.props)} />\n          </Switch>\n          {/* Footer */}\n          <footer className={classNames(classes.footer, classes.layout)}>\n            <Grid container spacing={4} justify=\"space-evenly\">\n              {footers.map((footer, ind) => (\n                <Grid item xs key={ind}>\n                  <Typography variant=\"h6\" color=\"textPrimary\" gutterBottom>\n                    {footer.title}\n                  </Typography>\n                  {footer.description.map((item, ind) => (\n                    <Typography\n                      key={ind}\n                      variant=\"subtitle1\"\n                      color=\"textSecondary\"\n                    >\n                      {item}\n                    </Typography>\n                  ))}\n                </Grid>\n              ))}\n            </Grid>\n          </footer>\n          {/* End footer */}\n          <Typography align={\"center\"}>\n            Email: etherclearapp (at) protonmail.com\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            color=\"inherit\"\n            align={\"center\"}\n            noWrap\n            style={{ paddingTop: \"50px\" }}\n            className={classes.toolbarTitle}\n          >\n            Copyright  2019 Etherclear.{\" \"}\n            <MediaQuery query={\"(max-width: 1224px)\"}>\n              <br />\n            </MediaQuery>\n            All rights reserved.\n          </Typography>\n        </React.Fragment>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nHomepage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Homepage);\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport App from \"./App\";\nimport Homepage from \"./Homepage\";\n\nclass Routing extends React.Component {\n  render() {\n    return (\n      <Router>\n        <div>\n          <Route exact path=\"/\" component={Home} />\n          {/* TODO: should this be a multi part route? */}\n          <Route exact path={\"/faq\"} component={Home} />\n          <Route path=\"/app\" component={MainApp} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nfunction MainApp() {\n  return <App />;\n}\n\nfunction Home() {\n  return <Homepage />;\n}\n\nexport default Routing;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Routing from \"./Routing\";\nimport ReactGA from \"react-ga\";\n\n// TODO: move off of Google Analytics.\nasync function initializeReactGA() {\n  ReactGA.initialize(\"UA-99140189-3\");\n  ReactGA.pageview(\"/homepage\");\n}\n\ninitializeReactGA();\n\nReactDOM.render(<Routing />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}